(this.webpackJsonp=this.webpackJsonp||[]).push([[76],{134:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,o,i=n(38),a=n(1),c=n(429);!function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"}(r||(r={})),function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"}(o||(o={}));var s=function(e){var t=Object(c.a)(),n=e.value,r=e.children,o=Object(i.i)(e,["value","children"]);return r(t.formatNumberToParts(n,o))};s.displayName="FormattedNumberParts";function u(e){var t=function(t){var n=Object(c.a)(),r=t.value,o=t.children,a=Object(i.i)(t,["value","children"]),s="string"===typeof r?new Date(r||0):r;return o("formatDate"===e?n.formatDateToParts(s,a):n.formatTimeToParts(s,a))};return t.displayName=o[e],t}function l(e){var t=function(t){var n=Object(c.a)(),r=t.value,o=t.children,s=Object(i.i)(t,["value","children"]),u=n[e](r,s);if("function"===typeof o)return o(u);var l=n.textComponent||a.Fragment;return a.createElement(l,null,u)};return t.displayName=r[e],t}s.displayName="FormattedNumberParts";l("formatDate"),l("formatTime");var d=l("formatNumber");l("formatList"),l("formatDisplayName"),u("formatDate"),u("formatTime")},3072:function(e,t,n){"use strict";var r=n(2),o=n.n(r),i=n(124),a=n(15),c=n.n(a),s=n(1142),u=n(0),l=["width","height","rounded","x","y"],d=["width","height","rounded","x","y"],b=["width","height","rounded","x","y"],j=["width","height","rounded","x","y"],f=["width","height","rounded","x","y"],O=["cx","cy","r"],h=["width","height","rounded","x","y"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t=e.width,n=e.height,r=e.rounded,o=e.x,i=e.y,a=c()(e,l);return Object(u.jsx)(s.b,x({x:o,y:Number(i)+9,width:t,height:n,rx:r,ry:r},a))};p.defaultProps={width:128,height:18,rounded:4,x:0,y:0};var g=function(e){var t=e.width,n=e.height,r=e.rounded,o=e.x,i=e.y,a=c()(e,d);return Object(u.jsx)(s.b,x({x:o,y:Number(i)+8,width:t,height:n,rx:r,ry:r},a))};g.defaultProps={width:112,height:16,rounded:4,x:0,y:0};var y=function(e){var t=e.width,n=e.height,r=e.rounded,o=e.x,i=e.y,a=c()(e,b);return Object(u.jsx)(s.b,x({x:o,y:Number(i)+7,width:t,height:n,rx:r,ry:r},a))};y.defaultProps={width:96,height:14,rounded:4,x:0,y:0};var v=function(e){var t=e.width,n=e.height,r=e.rounded,o=e.x,i=e.y,a=c()(e,j);return Object(u.jsx)(s.b,x({x:o,y:Number(i)+6,width:t,height:n,rx:r,ry:r},a))};v.defaultProps={width:80,height:12,rounded:4,x:0,y:0};var w=function(e){var t=e.width,n=e.height,r=e.rounded,o=e.x,i=e.y,a=c()(e,f);return Object(u.jsx)(s.b,x({x:o,y:Number(i)+5,width:t,height:n,rx:r,ry:r},a))};w.defaultProps={width:64,height:10,rounded:4,x:0,y:0};var k=function(e){var t=e.cx,n=e.cy,r=e.r,o=c()(e,O);return Object(u.jsx)(s.a,x({cx:t,cy:n,r:r},o))};k.defaultProps={cx:16,cy:16,r:16};var _=function(e){var t=e.width,n=e.height,r=e.rounded,o=e.x,i=e.y,a=c()(e,h);return Object(u.jsx)(s.b,x({x:o,y:Number(i)+4,width:t,height:n,rx:r,ry:r},a))};_.defaultProps={width:48,height:8,rounded:4,x:0,y:0};var D=["children","width","height","size","shape"];function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e,t,n){return"DisplayXLarge"===e?Object(u.jsx)(p,{width:t}):"PageHeading"===e||"DisplayLarge"===e?Object(u.jsx)(g,{width:t}):"Heading"===e||"DisplayMedium"===e?Object(u.jsx)(y,{width:t}):"Body1"===e||"DisplaySmall"===e?Object(u.jsx)(v,{width:t}):"Body2"===e?Object(u.jsx)(w,{width:t}):"Caption"===e||"Subheading"===e?Object(u.jsx)(_,{width:t}):"Avatar"===e?Object(u.jsx)(k,{r:n&&Number(n)/2,cx:n&&Number(n)/2,cy:n&&Number(n)/2}):null},N=function(e){var t=e.children,n=e.width,r=e.height,o=e.size,a=e.shape,l=c()(e,D),d=a?function(e,t){return"DisplayXLarge"===e?128:"PageHeading"===e||"DisplayLarge"===e?112:"Heading"===e||"DisplayMedium"===e?96:"Body1"===e||"DisplaySmall"===e?80:"Body2"===e?64:"Caption"===e||"Subheading"===e?48:"Avatar"===e?t||32:void 0}(a,o):n,b=a?function(e,t){return"DisplayXLarge"===e?36:"PageHeading"===e||"DisplayLarge"===e?32:"Heading"===e||"DisplayMedium"===e?28:"Body1"===e||"DisplaySmall"===e?24:"Body2"===e?20:"Caption"===e||"Subheading"===e?16:"Avatar"===e?t||32:void 0}(a,o):r;return Object(u.jsx)(s.c,P(P({speed:1,width:d,height:b,viewBox:"0 0 "+String(d)+" "+String(b),backgroundColor:Object(i.a)("surface-neutral-default"),foregroundColor:Object(i.a)("surface-default")},l),{},{children:a?S(a,n,o):t}))};N.Avatar=k,N.DisplayXLarge=p,N.PageHeading=g,N.DisplayLarge=g,N.Body1=v,N.DisplaySmall=v,N.Body2=w,N.Caption=_,N.Subheading=_,N.defaultPorps={size:32};t.a=N},3073:function(e,t,n){"use strict";n.d(t,"i",(function(){return k})),n.d(t,"d",(function(){return D})),n.d(t,"h",(function(){return I})),n.d(t,"g",(function(){return P})),n.d(t,"e",(function(){return S})),n.d(t,"a",(function(){return N})),n.d(t,"c",(function(){return M})),n.d(t,"b",(function(){return F})),n.d(t,"f",(function(){return T}));var r=n(72),o=n(2),i=n.n(o),a=n(146),c=n.n(a),s=n(10),u=n.n(s),l=n(1),d=n(26),b=n.n(d),j=n(134),f=n(178),O=n(3088),h=n(391),m=n(1151),x=n(952),p=n(0);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(){var e,t,n;return null!=(e=null==(t=b.a.config(void 0))||null==(n=t.FORMAT)?void 0:n.decimalSeparator)?e:""}function w(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=new b.a(e);if(t.unit&&(n=n.div("1"+"0".repeat(t.unit))),!n.isFinite())return null;var r=v(),o=("number"===typeof t.fixed?t.fullPrecision?n.toFormat(t.fixed,b.a.ROUND_FLOOR):n.decimalPlaces(t.fixed,b.a.ROUND_FLOOR).toFormat():n.toFormat()).split(r),i=u()(o,2),a=i[0],c=i[1];return{int:a,dec:c,sep:r}}catch(s){return null}}(e,t);return n?void 0===n.dec?""+n.int:""+n.int+n.sep+n.dec:null}function k(e,t,n){var r,o,i=n||{},a=i.unit,s=i.fixed,u=i.fullPrecision,l=t?t.toUpperCase().trim():void 0;l&&l.length>(null!=(r=null==n?void 0:n.unitMaxLength)?r:20)&&(l=l.slice(0,null!=(o=null==n?void 0:n.unitMaxLength)?o:11)+"...");return c()(e)?{amount:void 0,unit:l}:{amount:w(e,{unit:a,fixed:s,fullPrecision:u})||"0",unit:l}}function _(){return{useFormatCurrencyDisplay:function(e,t){var n,r,o=Object(f.u)().selectedFiatMoneySymbol,i=void 0===o?"usd":o,a=null!=(n=null==(r=Object(f.h)((function(e){return e.fiatMoney.map}))[i])?void 0:r.unit)?n:"",c=Object(l.useMemo)((function(){var t=new b.a(1);if(!t.isNaN())return e.reduce((function(e,t){if(void 0===t||void 0===e)return e;var n=new b.a(null!=e?e:"0"),r=new b.a(null!=t?t:"0");return n.multipliedBy(r)}),t)}),[1,e]);return Object(l.useMemo)((function(){return void 0===c||"0"===c?{amount:void 0,unit:void 0}:{amount:w(c,y(y({},t),{},{fixed:"btc"===i?8:2,fullPrecision:!0}))||"0",unit:a}}),[c,t,i,a])},useFormatBalanceDisplay:function(e,t,n){return Object(l.useMemo)((function(){return k(e,t,n)}),[e,n,t])}}}b.a.config({DECIMAL_PLACES:25});var D=function(e){var t=e.numbers,n=e.formatOptions,o=void 0===n?{}:n,i=e.as,a=void 0===i?r.a:i,c=e.render,s=(0,_().useFormatCurrencyDisplay)(t,o),u=Object(l.useMemo)((function(){var e;return"sats"===(null==(e=s.unit)?void 0:e.toLowerCase())?Object(p.jsxs)(p.Fragment,{children:[t.length?s.amount:"--","\xa0"," "+s.unit]}):Object(p.jsxs)(p.Fragment,{children:[s.unit,"\xa0",t.length?s.amount:"--"]})}),[s.amount,s.unit,t.length]);if(c)return null==c?void 0:c(u);var d=a;return Object(p.jsx)(d,{children:u})};function I(e){var t=e.token,n=e.value,r=e.formatOptions,o=void 0===r?{}:r,i=e.as,a=e.render,c=e.networkId,s=Object(O.b)({networkId:c,contractAdress:null==t?void 0:t.tokenIdOnNetwork}),u=void 0===s||null===s;return Object(p.jsx)(D,{numbers:u?[]:[s,n,n?1:void 0],render:a,formatOptions:o,as:i})}function P(e){var t=Object(f.f)(),n=t.accountId,r=t.networkId;return Object(p.jsx)(I,y(y({},e),{},{accountId:n,networkId:r}))}function S(e){var t=e.value,n=e.formatOptions,r=void 0===n?{}:n,o=e.as,i=e.render,a=e.accountId,c=e.networkId;return Object(p.jsx)(I,{accountId:a,networkId:c,token:null,value:t,formatOptions:r,render:i,as:o})}var N=function(e){var t=e.balance,n=e.formatOptions,o=void 0===n?{}:n,i=e.as,a=void 0===i?r.a:i,c=e.render,s=e.suffix,u=(0,_().useFormatBalanceDisplay)(t,s,o),d=Object(l.useMemo)((function(){return Object(p.jsxs)(p.Fragment,{children:[u.amount,null!=u&&u.unit?" "+(null==u?void 0:u.unit):null]})}),[u.amount,null==u?void 0:u.unit]);if(c)return null==c?void 0:c(d);var b=a;return Object(p.jsx)(b,{children:d})};function M(e){var t=e.token,n=e.render,o=e.accountId,i=e.networkId,a=Object(h.m)({networkId:i,accountId:o,token:t,fallback:"0"}),c=Object(f.e)({accountId:o,networkId:i}).network,s=!(null!=t&&t.tokenIdOnNetwork)?null==c?void 0:c.nativeDisplayDecimals:null==c?void 0:c.tokenDisplayDecimals;return Object(p.jsx)(N,{balance:a,suffix:null==t?void 0:t.symbol,formatOptions:{fixed:null!=s?s:4},render:null!=n?n:function(e){return Object(p.jsx)(r.a,{typography:{sm:"Body1Strong",md:"Body2Strong"},children:e})}})}function F(e){var t=e.token,n=e.render,r=Object(f.f)(),o=r.networkId,i=r.accountId;return Object(p.jsx)(M,{token:t,render:n,accountId:i,networkId:o})}function T(e){var t,n,r=e.decimals,o=e.value,i=e.onlyNumber,a=e.convertValue,c=Object(f.u)().selectedFiatMoneySymbol,s=void 0===c?"usd":c,u=Object(f.h)((function(e){return e.fiatMoney.map}));if("number"!==typeof o&&!(o instanceof b.a))return null;var l=(null==(t=u[s])?void 0:t.value)||0,d=(null==(n=u[s])?void 0:n.unit)||"",O=null!=r?r:Object(m.d)(o instanceof b.a?o.toNumber():o),h=(o instanceof b.a?o.toNumber():o)+(a?new b.a(l).multipliedBy(a).toNumber():0);return"sats"===d.toLowerCase()?Object(p.jsxs)(p.Fragment,{children:[h<.01?""+Object(x.a)(h):Object(p.jsx)(j.a,{value:null!=h?h:0,style:"decimal",minimumFractionDigits:2,maximumFractionDigits:O})," "+(i?"":d)]}):Object(p.jsxs)(p.Fragment,{children:[""+(i?"":d),h<.01?""+Object(x.a)(h):Object(p.jsx)(j.a,{value:null!=h?h:0,style:"decimal",minimumFractionDigits:2,maximumFractionDigits:O})]})}},3088:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(1),o=n(39),i=n(391),a=function(e){var t=e.networkId,n=e.contractAdress,i=Object(o.e)((function(e){return e.tokens.tokenPriceMap}));return Object(r.useMemo)((function(){if(t&&i)return i[t+(n?"-"+n:"")]}),[n,t,i])},c=function(e){var t=e.networkId,n=e.contractAdress,r=Object(o.e)((function(e){return e.settings.selectedFiatMoneySymbol}));return Object(i.n)({networkId:null!=t?t:"",tokenIdOnNetwork:null!=n?n:"",vsCurrency:r})}},3232:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.StakingAmount="StakingAmount",e.StakingETHNotes="StakingETHNotes",e.StakedETHOnKele="StakedETHOnKele"}(r||(r={}))},3246:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),i=n(100),a=n(3232),c=n(252),s=n(457),u=n(3),l=n.n(u),d=n(10),b=n.n(d),j=n(755),f=n(85),O=n(654),h=n(115),m=n(1195),x=n(103),p=n(32),g=n(3072),y=n(41),v=n(277),w=n(1),k=n(57),_=n(3022),D=n(429),I=n(4868),P=n.n(I),S=n(3372),N=n.n(S),M=n(43),F=n(3073),T=n(178),B=n(3088),C=n(145),A=n(3373),L=n(0),E=function(){var e,t,n,r=Object(D.a)(),o=Object(T.f)(),i=o.wallet,c=o.networkId,s=o.accountId,u=Object(A.b)(c,s),l=Object(A.a)(c,s),d=Object(k.u)(),b=Object(B.b)({networkId:c}),j=Object(T.h)((function(e){return e.staking.showETH2UnableToUnstakeWarning})),_=Object(T.h)((function(e){return e.staking.keleDashboardGlobal})),I=Object(w.useCallback)((function(){d.replace(C.c.Modal,{screen:C.b.Staking,params:{screen:a.a.StakingAmount,params:{networkId:c}}})}),[d,c]);return Object(L.jsxs)(p.a,{children:[Object(L.jsxs)(h.a,{children:[Object(L.jsx)(v.a,{w:"16",h:"16",source:P.a}),Object(L.jsx)(p.a,{mt:"2",children:null!=u&&u.total?Object(L.jsx)(y.h.DisplayLarge,{children:u.total+" ETH"}):Object(L.jsx)(g.a,{shape:"DisplayLarge"})}),Object(L.jsx)(F.d,{numbers:[null!=b?b:0,null!=(e=null==u?void 0:u.total)?e:0],render:function(e){return Object(L.jsx)(y.h.Body1,{ml:3,color:"text-subdued",children:b?e:"-"})}}),Object(L.jsxs)(m.a,{direction:"row",space:"2",my:"6",children:[Object(L.jsx)(x.a,{leftIconName:"MinusCircleMini",isDisabled:!0,children:r.formatMessage({id:"action__unstake"})}),Object(L.jsx)(x.a,{isDisabled:"watching"===(null==i?void 0:i.type),isLoading:!!l,leftIconName:"InboxArrowDownMini",onPress:I,children:r.formatMessage({id:"action__stake"})})]})]}),j?Object(L.jsx)(O.a,{alertType:"info",title:r.formatMessage({id:"content__when_can_i_get_my_staked_eth_back"}),description:r.formatMessage({id:"content__staked_eth_can_t_be_taken_back_now_desc"}),onDismiss:function(){return M.a.serviceStaking.hideETH2UnableToUnstakeWarning()}}):null,Object(L.jsxs)(p.a,{borderRadius:12,bg:"surface-default",flexDirection:"row",p:"4",mt:"6",mb:"4",children:[Object(L.jsx)(v.a,{w:"10",h:"10",source:N.a,mr:"4"}),Object(L.jsxs)(p.a,{children:[Object(L.jsxs)(p.a,{flexDirection:"row",children:[Object(L.jsx)(y.h.Body1,{children:"Kele Pool \u30fb"}),Object(L.jsx)(y.h.Body1,{color:"text-success",children:"4.12% APY"})]}),Object(L.jsx)(y.h.Body2,{color:"text-subdued",children:r.formatMessage({id:"content__third_party_validator"})})]})]}),null!=u&&u.staking?Object(L.jsxs)(p.a,{p:"4",borderRadius:12,bg:"surface-default",flexDirection:"row",alignItems:"center",children:[Object(L.jsx)(h.a,{w:"10",h:"10",bg:"surface-neutral-default",borderRadius:"full",mr:"2",children:Object(L.jsx)(f.a,{name:"InboxArrowDownMini",size:16})}),Object(L.jsxs)(p.a,{flex:"1",children:[Object(L.jsx)(y.h.Body1,{children:r.formatMessage({id:"form__str_is_activating"},{0:u.staking+" ETH"})}),Object(L.jsx)(y.h.Body2,{color:"text-subdued",children:r.formatMessage({id:"form__str_is_activating_eth_desc"},{0:"ETH",1:null!=(t=null==_?void 0:_.validator_alive_predicted_hour)?t:"24",3:(null!=(n=null==_?void 0:_.retail_deposit_far)?n:32).toFixed(2)+" ETH"})})]})]}):null,Object(L.jsx)(p.a,{my:"2",children:Object(L.jsx)(y.h.Heading,{children:r.formatMessage({id:"form__reward_history"})})})]})},H=function(){var e=Object(D.a)();return Object(L.jsx)(p.a,{py:"10",children:Object(L.jsx)(j.a,{emoji:"\ud83d\udd50",title:e.formatMessage({id:"transaction__history_empty_title"}),subTitle:e.formatMessage({id:"reward__history_empty_desc"})})})};var R=n(1207),U=n(179),K=n(199),z=n(289),V=n(240),W=n(72),X=n(26),G=n.n(X),J=n(24),Y=n(254),$=n(14),Q=n(3741),q=n(39),Z=n(391),ee=n(47);function te(e){var t=e.title,n=e.titleAction,r=e.text,o=e.onChangeText,i=e.loading,a=e.desc;return Object(L.jsxs)(p.a,{height:"140px",children:[!!t&&Object(L.jsxs)(V.a,{space:2,alignItems:"center",justifyContent:"center",children:[Object(L.jsx)(p.a,{opacity:0,children:n}),Object(L.jsx)(W.a,{textAlign:"center",typography:"DisplayLarge",color:"text-subdued",children:t}),n]}),Object(L.jsx)(h.a,{flex:1,maxH:"64px",mt:2,mb:3,children:Object(L.jsx)(Q.a,{autoFocus:!0,text:r,onChangeText:o,placeholder:"0"})}),i?Object(L.jsx)(z.b,{size:"sm"}):!!a&&Object(L.jsx)(W.a,{typography:"Body1Strong",textAlign:"center",isTruncated:!0,children:a})]})}var ne=n(20),re=n(4869),oe=n.n(re),ie=n(461);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=n(760),ue=n(456);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var de=Object(ue.a)(),be=[{name:a.a.StakingAmount,component:function(){var e=Object(D.a)(),t=Object(Y.a)().height,n=Object(i.a)(),r=Object(w.useState)(!1),o=b()(r,2),s=o[0],u=o[1],d=t<768,j=Object(k.u)(),f=Object(k.x)().params,O=f.networkId,h=f.tokenIdOnNetwork,m=Object(w.useState)(""),g=b()(m,2),_=g[0],I=g[1],P=Object(T.f)(),S=P.account,M=P.accountId,A=Object(T.r)(O),E=Object(Z.k)(O,null!=h?h:"").token,H=Object(Z.m)({networkId:O,accountId:M,token:E,fallback:"0"}),z=Object(w.useCallback)((function(){if(!E||!_)return"error";var t,n,r=new G.a(_),o=new G.a(H);return r.isNaN()||o.isNaN()?e.formatMessage({id:"form__amount_invalid"},{0:null!=(t=null==E?void 0:E.symbol)?t:""}):o.isLessThan(r)?e.formatMessage({id:"form__amount_invalid"},{0:null!=(n=null==E?void 0:E.symbol)?n:""}):void 0}),[_,e,H,E])(),V=Object(w.useMemo)((function(){return new G.a("0.01")}),[]),X=Object(w.useMemo)((function(){if(!V.isNaN()&&V.gt("0")){var e=new G.a(_);if(e.isNaN())return[!1,!1];if(e.lt(V))return[!1,e.gt("0")]}return[!0,!1]}),[V,_]),Q=b()(X,2),ne=Q[0],re=Q[1],oe=Object(w.useMemo)((function(){return re?Object(L.jsx)(y.h.Body1Strong,{color:"text-critical",children:e.formatMessage({id:"form__str_minimum_stake_amount"},{0:V.toFixed(),1:null==E?void 0:E.symbol})}):void 0}),[e,V,re,null==E?void 0:E.symbol]),ie=function(e){var t,n,r,o=e.tokenInfo,i=e.desc,a=e.network,c=e.amount,s=e.setAmount,u=e.tokenBalance,l=null!=(t=null!=o&&o.tokenIdOnNetwork?null==a?void 0:a.tokenDisplayDecimals:null==a?void 0:a.nativeDisplayDecimals)?t:2,d=null!=(n=null==o?void 0:o.decimals)?n:18,j=Object(w.useMemo)((function(){return new RegExp("^(0|([1-9][0-9]*))?\\.?([0-9]{1,"+d+"})?$")}),[d]),f=Object(q.m)().selectedFiatMoneySymbol,O=(void 0===f?"usd":f).toUpperCase().trim(),h=Object(w.useState)(!1),m=b()(h,2),x=m[0],p=m[1],g=x?2:d,y=Object(w.useMemo)((function(){return new RegExp("^(0|([1-9][0-9]*))?\\.?([0-9]{1,"+g+"})?$")}),[g]),v=Object(B.b)({networkId:null==o?void 0:o.networkId,contractAdress:null==o?void 0:o.tokenIdOnNetwork}),k=Object(w.useState)(c),_=b()(k,2),D=_[0],I=_[1],P=Object(w.useMemo)((function(){return new G.a(null!=v?v:0)}),[v]),S=!P.isNaN()&&P.gt(0),N=Object(w.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return e?t?P.times(t||"0").toFixed(2,n):"":t}),[P]),M=Object(w.useCallback)((function(e){var t=N(x,e,G.a.ROUND_FLOOR);I(t)}),[N,x]),T=Object(w.useCallback)((function(e){if(e.length<c.length)s(e);else if(j.test(e))s(e);else{var t=new G.a(e);if(!t.isNaN()){var n=t.toFixed(d,G.a.ROUND_FLOOR);s(n)}}}),[c.length,d,s,j]),C=Object(L.jsx)(K.a,{name:"ArrowsUpDownOutline",size:"lg",type:"plain",circle:!0,onPress:function(){var e;D&&D===u&&!x&&(e=G.a.ROUND_FLOOR);var t=!x;p(t),I(N(t,c,e))}}),A=Object(w.useMemo)((function(){return i||(x?Object(L.jsxs)(W.a,{children:[(null==(e=Object(F.i)(c||"0","",{fixed:l}))?void 0:e.amount)||c||"0"," ",null==o?void 0:o.symbol]}):Object(L.jsx)(F.g,{token:o,value:c,render:function(e){return Object(L.jsx)(W.a,{children:e})}}));var e}),[c,l,i,x,o]);return Object(w.useEffect)((function(){return T(x?D?new G.a(D).div(P).toFixed():"":D)}),[x,T,D,P]),{validAmountRegex:j,title:null!=(r=x?O:null==o?void 0:o.symbol)?r:"--",titleAction:S?C:void 0,isFiatMode:x,descView:A,text:D,onTextChange:function(e){if(e.length<D.length)I(e);else if(y.test(e))I(e);else{var t=new G.a(e);if(!t.isNaN()){var n=t.toFixed(g,G.a.ROUND_FLOOR);I(n)}}},setTextByAmount:M}}({tokenInfo:E,desc:oe,network:A,amount:_,setAmount:I,tokenBalance:H}),ae=ie.title,ce=ie.titleAction,se=ie.descView,ue=ie.text,le=ie.onTextChange,de=ie.validAmountRegex,be=ie.setTextByAmount,je=ie.isFiatMode;return Object(L.jsx)(c.b,{header:e.formatMessage({id:"title__stake_str"},{0:null==E?void 0:E.symbol.toUpperCase()}),primaryActionTranslationId:"action__next",hideSecondaryAction:!0,primaryActionProps:{isDisabled:!!z||!ne,isLoading:s},onPrimaryActionPress:l()((function*(){if(S&&A&&E){var t=je?_:ue;try{u(!0),yield Object(ee.g)(100),j.navigate(C.c.Modal,{screen:C.b.Staking,params:{screen:a.a.StakingETHNotes,params:{networkId:E.networkId,tokenIdOnNetwork:E.tokenIdOnNetwork,amount:t}}})}catch(o){var n,r=o.key;if("form__amount_invalid"===(void 0===r?"":r))U.a.show({title:e.formatMessage({id:"form__amount_invalid"},{0:null!=(n=null==E?void 0:E.symbol)?n:""})})}finally{u(!1)}}})),children:Object(L.jsxs)(p.a,{flex:1,flexDirection:"column",style:{userSelect:"none"},children:[Object(L.jsx)(p.a,{py:n?4:void 0,my:6,flex:1,justifyContent:"center",children:Object(L.jsx)(te,{title:ae,titleAction:ce,desc:se,text:ue,onChangeText:le})}),Object(L.jsxs)(p.a,{mt:"auto",children:[Object(L.jsxs)(p.a,{flexDirection:"row",alignItems:"center",children:[Object(L.jsxs)(p.a,{flex:1,children:[Object(L.jsx)(y.h.Caption,{color:"text-subdued",children:e.formatMessage({id:"content__available_balance"})}),Object(L.jsx)(p.a,{children:Object(L.jsx)(F.b,{token:E,render:function(e){return Object(L.jsx)(y.h.Body1Strong,{color:z&&_?"text-critical":"text-default",children:e})}})})]}),Object(L.jsx)(x.a,{isDisabled:Number(H)-.01<=0,onPress:function(){var e=Math.max(Number(H)-.01,0);be(String(e))},children:e.formatMessage({id:"action__max"})})]}),Object(L.jsxs)(p.a,{borderRadius:12,flexDirection:"row",px:"16px",py:"12px",mt:"3",mb:"3",borderWidth:J.a.hairlineWidth,borderColor:"border-subdued",children:[Object(L.jsx)(v.a,{w:"10",h:"10",source:N.a,mr:"4"}),Object(L.jsxs)(p.a,{children:[Object(L.jsxs)(p.a,{flexDirection:"row",children:[Object(L.jsx)(y.h.Body1,{children:"Kele Pool "}),Object(L.jsx)(y.h.Body1,{color:"text-success",children:"4.12% APY"})]}),Object(L.jsx)(y.h.Body2,{color:"text-subdued",children:e.formatMessage({id:"content__third_party_validator"})})]})]}),($.a.isNative||$.a.isDev&&n)&&Object(L.jsx)(p.a,{children:Object(L.jsx)(R.a,{itemHeight:d?"44px":void 0,pattern:de,text:ue,onTextChange:le})})]})]})})}},{name:a.a.StakingETHNotes,component:function(){var e=Object(D.a)(),t=Object(k.u)(),n=Object(k.x)().params,r=Object(T.f)().account,o=Object(A.b)(n.networkId,null==r?void 0:r.id),i=Object(T.n)(n.networkId),a=Object(w.useCallback)((function(){var e=t.getParent();null!=e&&e.canGoBack()&&e.goBack()}),[t]),s=Object(w.useCallback)(l()((function*(){if(r&&i){try{yield M.a.serviceStaking.registerOnKele({payeeAddr:r.address,networdId:n.networkId})}catch(l){ne.a.common.error("registerOnKele failed")}var e=yield M.a.serviceStaking.buildTxForStakingETHtoKele({value:new G.a(10).exponentiatedBy(18).multipliedBy(n.amount).toFixed(0),networkId:n.networkId});a();var c=Object(q.a)(),s=c.networkId,u=c.accountId;t.navigate(C.c.Modal,{screen:C.b.Send,params:{screen:ie.a.SendConfirm,params:{networkId:s,accountId:u,payloadInfo:{type:"InternalStake",stakeInfo:{tokenInfo:i,amount:n.amount,accountAddress:r.address}},feeInfoEditable:!0,feeInfoUseFeeInTx:!1,encodedTx:ce(ce({},e),{},{from:null==r?void 0:r.address}),onSuccess:function(e,t){var i;M.a.serviceStaking.setAccountStakingActivity({networkId:n.networkId,accountId:r.id,data:{nonce:null==t||null==(i=t.decodedTx)?void 0:i.nonce,oldValue:null==o?void 0:o.total,txid:e.txid,amount:n.amount,createdAt:Date.now(),type:"kele"}})}}}})}})),[r,n.networkId,n.amount,t,null==o?void 0:o.total,i,a]);return Object(L.jsx)(c.b,{hideSecondaryAction:!0,primaryActionTranslationId:"action__confirm",primaryActionProps:{onPromise:s},scrollViewProps:{children:Object(L.jsxs)(p.a,{children:[Object(L.jsxs)(h.a,{p:"6",children:[Object(L.jsx)(v.a,{w:"24",h:"24",source:oe.a}),Object(L.jsx)(y.h.DisplayLarge,{my:"6",children:e.formatMessage({id:"title__eth_2_0_staking"})})]}),Object(L.jsxs)(p.a,{children:[Object(L.jsxs)(p.a,{flexDirection:"row",children:[Object(L.jsx)(h.a,{w:"8",h:"8",borderRadius:"full",bg:"decorative-surface-one",mr:"4",children:Object(L.jsx)(y.h.Body2Strong,{color:"decorative-icon-one",children:"1"})}),Object(L.jsxs)(p.a,{flex:"1",children:[Object(L.jsx)(y.h.Body1Strong,{children:e.formatMessage({id:"content__staked_eth_can_t_be_taken_back_now"})}),Object(L.jsx)(y.h.Body2,{color:"text-subdued",children:e.formatMessage({id:"content__staked_eth_can_t_be_taken_back_now_desc"})})]})]}),Object(L.jsxs)(p.a,{flexDirection:"row",mt:"5",children:[Object(L.jsx)(h.a,{w:"8",h:"8",borderRadius:"full",bg:"decorative-surface-one",mr:"4",children:Object(L.jsx)(y.h.Body2Strong,{color:"decorative-icon-one",children:"2"})}),Object(L.jsxs)(p.a,{flex:"1",children:[Object(L.jsx)(y.h.Body1Strong,{children:e.formatMessage({id:"content__in_the_rare_event_staked_eth_will_be_lost"})}),Object(L.jsx)(y.h.Body2,{color:"text-subdued",textBreakStrategy:"highQuality",children:e.formatMessage({id:"content__in_the_rare_event_staked_eth_will_be_lost_desc"})})]})]})]})]})}})}},{name:a.a.StakedETHOnKele,component:function(){var e=Object(D.a)(),t=Object(T.f)(),n=t.networkId,r=t.accountId,o=Object(B.b)({networkId:n}),i=Object(w.useState)([]),a=b()(i,2),u=a[0],d=a[1];Object(w.useEffect)((function(){function e(){return(e=l()((function*(){M.a.serviceStaking.fetchStakedStateOnKele({accountId:r,networkId:n});var e=yield M.a.serviceStaking.getStakingIncomeHistoryOnKele({accountId:r,networkId:n});e&&d(e),yield M.a.serviceStaking.getDashboardGlobal({networkId:n})}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var j=Object(w.useCallback)((function(t){var n,r=t.item,i=t.index;return Object(L.jsxs)(p.a,{py:"4",px:"6",bg:"surface-default",borderTopRadius:0===i?12:void 0,borderBottomRadius:i===u.length-1?12:void 0,children:[Object(L.jsxs)(p.a,{justifyContent:"space-between",flexDirection:"row",mb:"1",children:[Object(L.jsx)(y.h.Body1Strong,{children:e.formatMessage({id:"form__staking_reward"})}),Object(L.jsxs)(y.h.Body1Strong,{children:["+",r.reward," ETH"]})]}),Object(L.jsxs)(p.a,{justifyContent:"space-between",flexDirection:"row",children:[Object(L.jsx)(y.h.Body2,{color:"text-subdued",children:Object(_.a)(new Date(r.date),"LLL dd yyyy")}),Object(L.jsx)(F.d,{numbers:[null!=o?o:0,null!=(n=r.reward)?n:0],render:function(e){return Object(L.jsx)(y.h.Body2,{ml:3,color:"text-subdued",children:o?e:"-"})}})]})]})}),[u.length,e,o]);return Object(L.jsx)(c.b,{height:"560px",footer:null,flatListProps:{data:u,renderItem:j,ListHeaderComponent:E,ListEmptyComponent:H,ItemSeparatorComponent:s.a,showsVerticalScrollIndicator:!1}})}}];t.default=function(){var e=Object(i.a)();return Object(L.jsx)(de.Navigator,{screenOptions:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({headerShown:!1},Object(se.b)({isVerticalLayout:e,navInfo:t}))},children:be.map((function(e){return Object(L.jsx)(de.Screen,{name:e.name,component:e.component},e.name)}))})}},3372:function(e,t,n){e.exports=n.p+"static/media/kele_pool.8ff3dce4.png"},3373:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(178);function o(e,t){return Object(r.h)((function(n){var r,o;return null==(r=n.staking.keleETH2StakingState)||null==(o=r[null!=t?t:""])?void 0:o[null!=e?e:""]}))}function i(e,t){return Object(r.h)((function(n){var r,o;return null==(r=n.staking.stakingActivities)||null==(o=r[t])?void 0:o[e]}))}},3741:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(393),o=n(0),i=function(e){var t=e.text,n=e.onChangeText,i=e.placeholder,a=e.autoFocus;return Object(o.jsx)(r.a,{autoFocus:a,flex:1,height:"112",size:"xl",textAlign:"center",borderWidth:"0",fontSize:"40px",placeholder:i,placeholderTextColor:"text-disabled",focusOutlineColor:"transparent",lineHeight:"64px",fontWeight:"bold",bgColor:"transparent",onChangeText:n,value:t})}},4868:function(e,t,n){e.exports=n.p+"static/media/eth_logo.be8911f3.png"},4869:function(e,t,n){e.exports=n.p+"static/media/eth_staking.6d8f2526.png"}}]);
(this.webpackJsonp=this.webpackJsonp||[]).push([[49,86,843],{3081:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(766),r=n(1),o=n(3335),i=n(3022),c=n(3336),s=n(3343),u=n(3337),l=n(3344),d=n(1150),f=function(e){switch(e){case"zh-CN":return l.a;case"en-US":default:return d.a}};function b(){var e=Object(a.a)().locale,t=Object(r.useCallback)((function(t,n){var a;a="string"===typeof t?Object(o.a)(t):t;try{return Object(i.a)(a,null!=n?n:"PPp",{locale:f(e)})}catch(r){return"-"}}),[e]),n=Object(r.useCallback)((function(e,n){var a,r;r="string"===typeof e?Object(o.a)(e):e;var i=(new Date).getFullYear(),c=(new Date).getMonth(),s="LLL dd yyyy, HH:mm";return(i===r.getFullYear()&&null!=n&&n.hideTheYear||null!=n&&n.hideYear)&&(s=s.replace(" yyyy","")),(c===r.getMonth()&&null!=n&&n.hideTheMonth||null!=n&&n.hideMonth)&&(s=s.replace("LLL ","")),null!=n&&n.hideTimeForever&&(s=s.replace(", HH:mm","")),null!=(a=t(r,s))?a:""}),[t]),l=Object(r.useCallback)((function(e,n){var a,r,i;return r="string"===typeof e?Object(o.a)(e):e,(new Date).getFullYear()===r.getFullYear()&&null!=n&&n.hideTheYear||null!=n&&n.hideYear?null!=(i=t(r,"MMMM"))?i:"":null!=(a=t(r,"MMMM, yyyy"))?a:""}),[t]),d=Object(r.useCallback)((function(t,n){var a;return null!=(a=Object(c.a)(t,n,{locale:f(e)}))?a:""}),[e]),b=Object(r.useCallback)((function(t){var n;return null!=(n=Object(s.a)(t,{addSuffix:!0,locale:f(e)}))?n:""}),[e]),m=Object(r.useCallback)((function(t){var n;return null!=(n=Object(u.a)(t,{locale:f(e)}))?n:""}),[e]);return Object(r.useMemo)((function(){return{format:t,formatDate:n,formatMonth:l,formatDistanceToNow:b,formatDuration:m,formatDistanceStrict:d}}),[t,n,l,b,m,d])}},3085:function(e,t,n){"use strict";n.d(t,"a",(function(){return x.a}));var a=n(41),r=n(289),o=n(32),i=n(3),c=n.n(i),s=n(179),u=n(10),l=n.n(u),d=n(1),f=n(57),b=n(429),m=n(73),j=n(43),h=n(39),p=n(125),g=n(20),O=n(115),v=n(14),y=n(178),x=n(653),w=n(757),M=n(103),A=n(162),D=n(770),_=n.n(D),P=n(652),C=n(3104),S=n(332),k=n(1166),I=n(0),T=function(e){var t=e.onOk,n=e.hideTitle,r=e.placeCenter,i=Object(b.a)(),s=Object(d.useRef)(),u=Object(h.e)((function(e){return e.settings.enableLocalAuthentication})),l=Object(P.a)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:{password:""}}),f=l.control,m=l.handleSubmit,p=l.setError,g=Object(C.a)({useFormReturn:l,revalidate:!1,clearErrorIfEmpty:!0}).formValues,v=m(function(){var e=c()((function*(e){(yield j.a.serviceApp.verifyPassword(e.password))?null==t||t(e.password,!1):p("password",{message:i.formatMessage({id:"msg__wrong_password"})})}));return function(t){return e.apply(this,arguments)}}()),y=Object(d.useMemo)((function(){return _()(v,1e3,{trailing:!1})}),[v]),x=Object(d.useCallback)((function(e){null==t||t(e,!0)}),[t]);Object(d.useEffect)((function(){u?Object(S.b)().then((function(e){e||setTimeout((function(){var e;return null==(e=s.current)?void 0:e.focus()}),100)})):setTimeout((function(){var e;return null==(e=s.current)?void 0:e.focus()}),100)}),[]);var D=Object(d.useMemo)((function(){return Object(I.jsxs)(I.Fragment,{children:[n?null:Object(I.jsxs)(o.a,{mb:"8",children:[Object(I.jsx)(a.h.DisplayLarge,{textAlign:"center",mb:2,children:i.formatMessage({id:"Verify_Password"})}),Object(I.jsx)(a.h.Body1,{textAlign:"center",color:"text-subdued",children:i.formatMessage({id:"Verify_password_to_continue"})})]}),Object(I.jsxs)(A.a,{children:[Object(I.jsx)(A.a.Item,{name:"password",defaultValue:"",control:f,rules:{minLength:{value:8,message:i.formatMessage({id:"msg__password_validation"})},maxLength:{value:128,message:i.formatMessage({id:"msg__password_validation"})}},children:Object(I.jsx)(A.a.PasswordInput,{ref:s,onSubmitEditing:v})}),Object(I.jsx)(M.a,{isDisabled:!(null!=g&&g.password),type:"primary",size:"xl",onPress:y,children:i.formatMessage({id:"action__continue",defaultMessage:"Continue"})})]}),Object(I.jsx)(O.a,{mt:"8",children:Object(I.jsx)(k.a,{onOk:x})})]})}),[f,null==g?void 0:g.password,n,i,x,v,y]);return r?Object(I.jsx)(w.a,{px:{base:n?0:4,md:0},children:Object(I.jsx)(O.a,{testID:"Validation",w:"full",h:"full",bg:"background-default",children:Object(I.jsx)(o.a,{maxW:"96",w:"full",h:"full",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",children:D})})}):Object(I.jsx)(w.a,{px:{base:n?0:4,md:0},children:D})},B=function(e){var t=e.field,n=e.onOk,a=e.hideTitle,o=e.placeCenter,i=Object(d.useState)(!1),s=l()(i,2),u=s[0],f=s[1],b=Object(d.useState)(!1),m=l()(b,2),h=m[0],p=m[1],g=Object(d.useState)(),w=l()(g,2),M=w[0],A=w[1],D=Object(y.h)((function(e){return e.settings.validationSetting})),_=Object(d.useMemo)((function(){var e=!!t&&!(null==D||!D[t]);return!(!t||t!==x.a.Secret)||e}),[D,t]);Object(d.useEffect)((function(){function e(){return(e=c()((function*(){var e=yield j.a.servicePassword.getPassword();e&&(p(!0),v.a.isNative?setTimeout((function(){return null==n?void 0:n(e,!1)}),500):null==n||n(e,!1)),A(!!e),f(!0)}))).apply(this,arguments)}_||function(){e.apply(this,arguments)}()}),[]);var P=Object(d.useCallback)(function(){var e=c()((function*(e,t){p(!0),yield j.a.servicePassword.savePassword(e),null==n||n(e,t)}));return function(t,n){return e.apply(this,arguments)}}(),[n]);if(!h){if(_)return Object(I.jsx)(T,{onOk:P,hideTitle:a,placeCenter:o});if(u&&!M)return Object(I.jsx)(T,{onOk:P,hideTitle:a,placeCenter:o})}return Object(I.jsx)(O.a,{w:"full",h:"full",children:Object(I.jsx)(r.b,{size:"lg"})})},W=function(e){var t=e.onOk,n=e.skipSavePassword,r=e.hideTitle,i=e.isAutoHeight,u=Object(b.a)(),l=Object(y.l)().isOk,f=Object(y.h)((function(e){return e.status.boardingCompleted})),m=Object(y.h)((function(e){return e.status.authenticationType})),h=Object(P.a)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:{password:"",confirmPassword:""}}),p=h.control,g=h.handleSubmit,O=h.getValues,v=Object(C.a)({useFormReturn:h,revalidate:!1,clearErrorIfEmpty:!0}).formValues,x=Object(d.useMemo)((function(){return!(null!=v&&v.password)||!(null!=v&&v.confirmPassword)}),[null==v?void 0:v.confirmPassword,null==v?void 0:v.password]),D=Object(d.useCallback)(function(){var e=c()((function*(e){e.password===e.confirmPassword?(f&&!n&&(yield j.a.serviceApp.updatePassword("",e.password)),null==t||t(e.password,e.withEnableAuthentication)):s.a.show({title:u.formatMessage({id:"msg__password_needs_to_be_the_same"})},{type:"error"})}));return function(t){return e.apply(this,arguments)}}(),[f,n,t,u]),_="FACIAL"===m?u.formatMessage({id:"content__face_id"}):u.formatMessage({id:"content__touch_id"});return Object(I.jsxs)(w.a,{h:i?{base:"full",sm:"auto"}:"full",px:{base:r?0:4,md:0},children:[r?null:Object(I.jsxs)(o.a,{mb:"8",children:[Object(I.jsxs)(a.h.DisplayLarge,{textAlign:"center",mb:2,children:["\ud83d\udd10"," ",u.formatMessage({id:"title__set_password",defaultMessage:"Set Password"})]}),Object(I.jsx)(a.h.Body1,{textAlign:"center",color:"text-subdued",children:u.formatMessage({id:"Only_you_can_unlock_your_wallet",defaultMessage:"Only you can unlock your wallet"})})]}),Object(I.jsxs)(A.a,{children:[Object(I.jsx)(A.a.Item,{name:"password",defaultValue:"",control:p,rules:{minLength:{value:8,message:u.formatMessage({id:"msg__password_validation"})},maxLength:{value:128,message:u.formatMessage({id:"msg__password_validation"})},validate:function(e){var t=O("confirmPassword");if(t&&e)return t!==e?u.formatMessage({id:"msg__password_needs_to_be_the_same"}):void 0}},children:Object(I.jsx)(A.a.PasswordInput,{autoFocus:!0,onSubmitEditing:g(D),placeholder:u.formatMessage({id:"form__rule_at_least_int_digits"},{0:8})})}),Object(I.jsx)(A.a.Item,{name:"confirmPassword",defaultValue:"",control:p,rules:{minLength:{value:8,message:u.formatMessage({id:"msg__password_validation"})},validate:function(e){var t=O("password");if(t&&e)return t!==e?u.formatMessage({id:"msg__password_needs_to_be_the_same"}):void 0}},children:Object(I.jsx)(A.a.PasswordInput,{onSubmitEditing:g(D),placeholder:u.formatMessage({id:"Confirm_password"})})}),l?Object(I.jsx)(A.a.Item,{name:"withEnableAuthentication",defaultValue:l,control:p,children:Object(I.jsx)(A.a.CheckBox,{title:u.formatMessage({id:"content__authentication_with"},{0:_})})}):null,Object(I.jsx)(M.a,{type:"primary",size:"xl",onPress:g(D),isDisabled:x,children:u.formatMessage({id:"action__continue",defaultMessage:"Continue"})})]})]})};t.b=Object(d.memo)((function(e){var t=e.children,n=e.skipSavePassword,i=e.field,u=e.walletId,O=e.hideTitle,v=e.isAutoHeight,y=e.placeCenter,x=Object(f.u)(),w=Object(h.i)(u),M=Object(b.a)(),A=j.a.engine,D=j.a.serviceHardware,_=j.a.serviceApp,P=Object(d.useState)(),C=l()(P,2),S=C[0],k=C[1],T=Object(d.useState)(""),E=l()(T,2),N=E[0],z=E[1],U=Object(d.useState)(),V=l()(U,2),R=V[0],Y=V[1],F=Object(d.useState)(),H=l()(F,2),L=H[0],G=H[1],X=Object(h.g)().isPasswordSet,Z=Object(d.useState)(X),Q=l()(Z,1)[0],J=Object(d.useCallback)((function(e,t){G(t),z(e)}),[]),K=Object(d.useCallback)((function(e,t){Y(t),z(e)}),[]),q=Object(d.useCallback)((function(){null!=x&&null!=x.canGoBack&&x.canGoBack()&&x.goBack()}),[x]),$="hw"===(null==w?void 0:w.type),ee=(null==w?void 0:w.type)===m.a;return Object(d.useEffect)((function(){_.checkUpdateStatus()}),[]),Object(d.useEffect)((function(){function e(){s.a.show({title:M.formatMessage({id:"action__connection_timeout"})}),q()}function t(){return(t=c()((function*(){if(null!=w&&w.id){var t=yield A.getHWDeviceByWalletId(w.id);if(t){var n=null;try{var a=yield D.getFeatursByWalletId(w.id);a?(n=a,g.a.hardwareSDK.debug("use features cache: ",a)):n=yield D.getFeatures(t.mac)}catch(r){return q(),void p.a.showErrorToast(r)}if(!n)return s.a.show({title:M.formatMessage({id:"action__connection_timeout"})}),void q();k(n)}else e()}else e()}))).apply(this,arguments)}$&&function(){t.apply(this,arguments)}()}),[$,A,null==w?void 0:w.id,M,q,D]),ee?Object(I.jsx)(o.a,{flex:1,children:t(N,{withEnableAuthentication:R,isLocalAuthentication:L})}):N?Object(I.jsx)(o.a,{w:"full",h:"full",children:t(N,{withEnableAuthentication:R,isLocalAuthentication:L})}):$?S?Object(I.jsx)(o.a,{w:"full",h:"full",children:t(N,{withEnableAuthentication:R,isLocalAuthentication:L,deviceFeatures:S})}):Object(I.jsxs)(o.a,{h:"100%",justifyContent:"center",alignItems:"center",children:[Object(I.jsx)(r.b,{size:"lg"}),Object(I.jsx)(a.h.DisplayMedium,{mt:6,children:M.formatMessage({id:"modal__device_status_check"})})]}):Q?Object(I.jsx)(B,{onOk:J,field:i,hideTitle:O,placeCenter:y}):Object(I.jsx)(W,{onOk:K,skipSavePassword:n,hideTitle:O,isAutoHeight:v})}))},3091:function(e,t,n){"use strict";n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return I}));var a=n(2),r=n.n(a),o=n(115),i=n(15),c=n.n(i),s=n(32),u=n(72),l=n(277),d=n(85),f=n(1),b=n(3149),m=n.n(b),j=n(3150),h=n.n(j),p=n(3151),g=n.n(p),O=n(73),v=n(125),y=n(253),x=n(954),w=n(0),M=["size","avatarBgColor","walletImage","circular","hwWalletType","avatar","status","isPassphrase"],A=["wallet","devicesStatus"];function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t,n,a,r,o=e.size,i=e.walletImage,c=e.hwWalletType,s=e.avatar,f=e.isPassphrase,b={xs:16,sm:20,xl:24,lg:24};if("hw"===i){var j,p,O,v,y={xl:{width:"20px",height:"30px"},lg:{width:"20px",height:"30px"},sm:{width:"14px",height:"21px"},xs:{width:"12px",height:"18px"}};if(f)return Object(w.jsx)(d.a,{name:"LockClosedSolid",size:null!=(O=b[null!=(v=o)?v:"lg"])?O:24,color:"icon-subdued"});var x=m.a;return"classic"===c&&(x=m.a),"mini"===c&&(x=h.a),"touch"===c&&(x=g.a),Object(w.jsx)(l.a,{width:null==(j=y[o])?void 0:j.width,height:null==(p=y[o])?void 0:p.height,source:x},c)}if("imported"===i||"watching"===i)return Object(w.jsx)(d.a,{name:"imported"===i?"InboxArrowDownOutline":"EyeOutline",size:null!=(t=b[null!=(n=o)?n:"lg"])?t:24,color:"icon-default"});if("external"===i)return Object(w.jsx)(d.a,{name:"LinkOutline",size:null!=(a=b[null!=(r=o)?r:"lg"])?a:24,color:"icon-default"});var M={xl:"DisplayXLarge",lg:"DisplayLarge",sm:"DisplayMedium",xs:"Body1"};return"hd"===i?Object(w.jsx)(u.a,{typography:M[o],children:null==s?void 0:s.emoji}):Object(w.jsx)(u.a,{typography:M[o],children:i})},C=function(e){var t=e.size,n=e.status;return Object(w.jsx)(s.a,{position:"absolute",right:-2,top:-3,rounded:"full",p:"2px",bgColor:"background-default",children:Object(w.jsx)(s.a,{rounded:"full",bgColor:"upgrade"===n?"icon-warning":"interactive-default",size:"xl"===t||"lg"===t?"10px":"8px"})})},S=function(e){var t=e.size,n=e.avatarBgColor,a=e.walletImage,r=e.circular,i=e.hwWalletType,s=e.avatar,u=e.status,l=e.isPassphrase,d=c()(e,M),f=null!=s?s:x.b,b=l?"surface-neutral-default":n||("hd"===a?f.bgColor:"surface-neutral-default");return Object(w.jsxs)(o.a,_(_({rounded:r?"full":"xs"===t?"6px":"12px",size:"xl"===t?"56px":"lg"===t?12:"sm"===t?8:"xs"===t?6:void 0,bgColor:b},d),{},{pointerEvents:"none",children:[Object(w.jsx)(P,{size:t,walletImage:a,hwWalletType:i,avatar:f,isPassphrase:l}),u?Object(w.jsx)(C,{size:t,status:u}):void 0]}))};S.defaultProps={size:"lg",circular:!1};function k(e){var t=e.devicesStatus,n=e.wallet;return Object(f.useMemo)((function(){var e,a,r,o,i=n.type,c=n.deviceType,s=n.associatedDevice||"",u=!1;i===O.c&&(r=function(e){if(e)return null!=e&&e.isConnected&&null!=e&&e.hasUpgrade?"upgrade":null!=e&&e.isConnected?"connected":void 0}(o=null==t?void 0:t[s]),u=Object(y.g)(n));var l=c;return l||(l=Object(v.b)(s)),{isPassphrase:u,deviceStatus:r,hwWalletType:l,statusType:o,hasUpgrade:Boolean(null==(e=o)?void 0:e.hasUpgrade),isConnected:Boolean(null==(a=o)?void 0:a.isConnected)}}),[t,n])}function I(e){var t=e.wallet,n=e.devicesStatus,a=c()(e,A),r=t.avatar,o=t.type,i=null==r?void 0:r.bgColor,s=k({devicesStatus:n,wallet:t});return Object(w.jsx)(S,_({walletImage:o,avatarBgColor:i,avatar:r,hwWalletType:s.hwWalletType,status:s.deviceStatus,isPassphrase:s.isPassphrase},a))}t.b=Object(f.memo)(S)},3092:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(156),r=n(104);function o(e,t){Object(r.a)(2,arguments);var n=Object(a.a)(e),o=Object(a.a)(t),i=n.getTime()-o.getTime();return i<0?-1:i>0?1:i}},3104:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(185),r=n.n(a),o=n(10),i=n.n(o),c=n(1),s=n(1170);function u(e){var t=e.useFormReturn,n=e.wait,a=void 0===n?500:n,o=e.revalidate,u=void 0===o||o,l=e.clearErrorIfEmpty,d=void 0!==l&&l,f=e.clearErrorWhenTextChange,b=void 0!==f&&f,m=e.onChange,j=t.watch,h=t.trigger,p=t.formState,g=t.clearErrors,O=t.getValues,v=Object(c.useRef)(!1),y=Object(c.useState)(),x=i()(y,2),w=x[0],M=x[1];Object(c.useEffect)((function(){var e=O();M(e),setTimeout((function(){return h()}),0)}),[O,h]),Object(c.useEffect)((function(){var e=r()((function(e,t){var n=t.name,a=t.type;v.current=!1,"change"!==a&&void 0!==a||(M(e),m&&m(e,{name:n,type:a}),d&&""===(null==e?void 0:e[n])&&g(n),u&&h(n))}),a,{leading:!1,trailing:!0}),t=j((function(t,n){var a=n.name,r=n.type;v.current=!0,b&&g(a),e(t,{name:a,type:r})}));return function(){return t.unsubscribe()}}),[d,b,g,m,u,h,a,j]);var A=Object(s.a)(p.isValid&&!Object.keys(p.errors).length&&!p.isValidating,100);return{loadingRef:v,isLoading:v.current,formValues:w,isValid:A}}},3105:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return g}));var a=n(3),r=n.n(a),o=n(1),i=n(14),c=n(43),s=n(145),u=n(159),l=n(263),d=n(47),f=n(953),b=n(39),m=(n(172),n(1174)),j=n(1192);function h(){var e;i.a.isExtensionUiStandaloneWindow&&(null==(e=window)||null==e.close||e.close())}var p=function(e){var t=Object(m.a)(),n=Object(b.e)((function(e){return e.status.boardingCompleted})),a=Object(b.e)((function(e){return e.data.homePageCheckBoarding}));Object(o.useEffect)((function(){n||(!e||e&&!a)&&(e&&c.a.dispatch(Object(u.g)()),t.replace(s.c.Onboarding,{screen:f.a.Welcome,params:{disableAnimation:!!e}}))}),[])};function g(){var e=Object(j.a)(),t=e.closeWalletSelector,n=e.openRootHome;return Object(o.useCallback)(r()((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.delay,r=void 0===a?150:a,o=e.showOnBoardingLoading;o&&(c.a.dispatch(Object(l.c)(!0)),yield Object(d.g)(100)),t(),yield Object(d.g)(r),n(),yield Object(d.g)(r),h(),o&&(yield Object(d.g)(600),c.a.dispatch(Object(l.c)(!1)))})),[t,n])}},3107:function(e,t,n){"use strict";function a(e){return function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}({},e)}n.d(t,"a",(function(){return a}))},3127:function(e,t,n){"use strict";n.r(t),n.d(t,"ManagerWalletModalRoutes",(function(){return D}));var a=n(2),r=n.n(a),o=n(100),i=n(252),c=n(289),s=n(10),u=n.n(s),l=n(1),d=n(57),f=n(750),b=n(3085),m=n(0),j=function(){var e=Object(d.u)(),t=Object(d.x)().params,n=t.requestId,a=t.onSuccess,r=t.onCancel,o=t.field,s=Object(l.useState)(""),j=u()(s,2),h=j[0],p=j[1],g=function(t){var r=t.password;return Object(l.useEffect)((function(){r&&(h||(p(r),setTimeout((function(){a(r,n),e.goBack()}),500)))}),[r]),Object(m.jsx)(f.a,{w:"full",h:"full",children:Object(m.jsx)(c.b,{size:"lg"})})};return Object(m.jsx)(i.b,{footer:null,onModalClose:function(){h||null==r||r()},children:Object(m.jsx)(b.b,{walletId:null,field:o,children:function(e){return Object(m.jsx)(g,{password:e})}})})},h=n(72),p=n(1177),g=n.n(p),O=n(130),v=n(115),y=n(32),x=n(3300),w=n(3091),M=n(954),A=Object(l.memo)((function(e){var t=e.color,n=e.onPress;return Object(m.jsx)(y.a,{flexDirection:"row",height:"40px",justifyContent:"space-around",px:"24px",marginY:"24px",children:M.a.map((function(e){var a=t===e;return Object(m.jsx)(O.a,{onPress:function(){n(e)},children:function(t){var n=t.isHovered;return Object(m.jsx)(v.a,{width:"40px",height:"40px",p:"2px",borderRadius:"full",bgColor:a?e:n?"border-hovered":void 0,children:Object(m.jsx)(y.a,{flex:1,alignSelf:"stretch",bgColor:e,borderRadius:"full",borderColor:"background-default",borderWidth:"4px"})})}},"color"+e)}))})}));A.displayName="ColorSelecter";var D,_=function(){var e=Object(l.useRef)(),t=Object(d.u)(),n=Object(d.x)().params,a=n.avatar,r=n.onDone,o=Object(l.useState)(a.bgColor),c=u()(o,2),s=c[0],f=c[1],b=Object(l.useState)(a.emoji),j=u()(b,2),p=j[0],v=j[1],D=Object(l.useState)(0),_=u()(D,2),P=_[0],C=_[1],S=P-48,k=Math.floor(S/48),I=Object(l.useMemo)((function(){var e=g()(M.c,k);return new x.a((function(e,t){return e!==t})).cloneWithRows(e)}),[k]),T=Object(l.useMemo)((function(){return new x.b((function(){return"emoji"}),(function(e,t){t.width=S,t.height=48}))}),[S,48]),B=Object(l.useCallback)((function(e,t){var n=g()(t,k);return Object(m.jsx)(y.a,{height:"full",children:n.map((function(e,t){return Object(m.jsx)(y.a,{flexDirection:"row",justifyContent:"space-between",width:S+"px",height:"48px",children:e.map((function(e,n){return Object(m.jsx)(O.a,{onPress:function(){v(e)},borderRadius:"12px",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:Object(m.jsx)(y.a,{alignItems:"center",justifyContent:"center",width:"48px",height:"48px",children:Object(m.jsx)(h.a,{typography:"DisplayXLarge",children:e})})},"rows"+t+" "+n)}))},"rows"+t)}))})}),[48,k,S]);return Object(m.jsx)(i.b,{size:"xs",height:"562px",header:"",primaryActionTranslationId:"action__done",hideSecondaryAction:!0,staticChildrenProps:{flex:1},primaryActionProps:{onPress:function(){r&&r({emoji:p,bgColor:s}),t.goBack()}},children:Object(m.jsxs)(y.a,{flex:1,children:[Object(m.jsx)(y.a,{alignItems:"center",children:Object(m.jsx)(w.b,{avatar:{emoji:p,bgColor:s},walletImage:"hd",size:"xl"})}),Object(m.jsx)(A,{color:s,onPress:f}),Object(m.jsx)(y.a,{onLayout:function(e){P!==e.nativeEvent.layout.width&&C(e.nativeEvent.layout.width)},flex:1,ref:e,borderTopLeftRadius:"24px",borderTopRadius:"24px",bgColor:"surface-subdued",children:P>0&&Object(m.jsx)(y.a,{flex:1,children:Object(m.jsx)(x.c,{dataProvider:I,layoutProvider:T,rowRenderer:B,renderAheadOffset:300,renderAheadStep:100,style:{padding:24}})})})]})})},P=n(757),C=n(103),S=n(162),k=n(3168),I=n(85),T=n(179),B=n(3),W=n.n(B),E=n(652),N=n(429),z=n(43),U=n(39),V=n(145),R=n(80),Y=function(){var e,t,n,a=Object(N.a)(),r=Object(d.u)(),o=Object(d.x)().params.walletId,c=z.a.engine,s=z.a.dispatch,f=z.a.serviceCloudBackup,b=z.a.serviceAccount,j=Object(U.k)().wallets,h=null!=(e=j.find((function(e){return e.id===o})))?e:null,p=Object(l.useState)(!1),g=u()(p,2),x=g[0],A=g[1],_=Object(l.useState)(null!=(t=null==h?void 0:h.avatar)?t:M.b),B=u()(_,2),Y=B[0],F=B[1],H=Object(E.a)({defaultValues:{name:""}}),L=H.control,G=H.handleSubmit,X=H.setError,Z=G(function(){var e=W()((function*(e){A(!0);var t,n=""===e.name?null==h?void 0:h.name:e.name;if(j.find((function(e){return e.name===n&&e.name!==(null==h?void 0:h.name)})))return X("name",{message:a.formatMessage({id:"form__account_name_invalid_exists"})}),void A(!1);(yield c.setWalletNameAndAvatar(o,{name:n,avatar:Y}))?(f.requestBackup(),yield b.initWallets(),setTimeout((function(){return s(Object(R.G)())})),T.a.show({title:a.formatMessage({id:"msg__change_saved"})}),null==(t=r.getParent())||t.goBack()):X("name",{message:a.formatMessage({id:"msg__unknown_error"})});A(!1)}));return function(t){return e.apply(this,arguments)}}()),Q=Object(l.useMemo)((function(){return Object(m.jsx)(v.a,{children:Object(m.jsx)(O.a,{onPress:function(){r.navigate(V.c.Modal,{screen:V.b.ManagerWallet,params:{screen:D.ManagerWalletModifyEmojiModal,params:{avatar:Y,onDone:function(e){F((function(){return e}))}}}})},children:function(e){var t=e.isHovered;return Object(m.jsxs)(k.a,{width:"56px",height:"56px",children:[Object(m.jsx)(y.a,{width:"full",height:"full",justifyContent:"center",alignItems:"center",children:Object(m.jsx)(w.b,{avatar:Y,walletImage:"hd",size:"xl"})}),Object(m.jsx)(y.a,{size:6,justifyContent:"center",alignItems:"center",borderWidth:2,bg:t?"surface-hovered":"surface-neutral-default",borderColor:"surface-subdued",borderRadius:"full",right:"-12px",bottom:"-12px",children:Object(m.jsx)(I.a,{name:"PencilMini",size:16})})]})}})})}),[Y,r]);return Object(m.jsx)(i.b,{header:a.formatMessage({id:"modal__edit_wallet"}),footer:null,children:Object(m.jsxs)(P.a,{px:{base:4,md:0},children:[Q,Object(m.jsxs)(S.a,{mt:"6",children:[Object(m.jsx)(S.a.Item,{name:"name",defaultValue:"",control:L,rules:{maxLength:{value:24,message:a.formatMessage({id:"form__account_name_invalid_characters_limit"},{0:"24"})}},children:Object(m.jsx)(S.a.Input,{size:"xl",autoFocus:!0,placeholder:null!=(n=null==h?void 0:h.name)?n:""})}),Object(m.jsx)(C.a,{type:"primary",size:"xl",isLoading:x,onPress:Z,children:a.formatMessage({id:"action__done"})})]})]})})},F=n(760),H=n(456);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}!function(e){e.ManagerWalletModal="ManagerWalletModal",e.ManagerWalletAuthorityVerifyModal="ManagerWalletAuthorityVerifyModal",e.ManagerWalletModifyNameModal="ManagerWalletModifyNameModal",e.ManagerWalletModifyEmojiModal="ManagerWalletModifyEmojiModal"}(D||(D={}));var G=Object(H.a)(),X=[{name:D.ManagerWalletModifyNameModal,component:Y},{name:D.ManagerWalletAuthorityVerifyModal,component:j},{name:D.ManagerWalletModifyEmojiModal,component:_}];t.default=function(){var e=Object(o.a)();return Object(m.jsx)(G.Navigator,{screenOptions:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({headerShown:!1},Object(F.b)({isVerticalLayout:e,navInfo:t}))},children:X.map((function(e){return Object(m.jsx)(G.Screen,{name:e.name,component:e.component},e.name)}))})}},3137:function(e,t,n){"use strict";n.r(t),n.d(t,"ImportBackupPasswordRoutes",(function(){return a}));var a,r=n(100),o=n(252),i=n(757),c=n(103),s=n(162),u=n(41),l=n(32),d=n(85),f=n(3),b=n.n(f),m=n(652),j=n(10),h=n.n(j),p=n(1),g=n(57),O=n(429),v=n(178),y=n(772),x=n(0),w=function(){var e=Object(O.a)(),t=Object(g.x)().params,n=t.withPassword,a=t.onSuccess,r=t.onError,f=t.onCancel,j=Object(p.useState)(""),w=h()(j,2),M=w[0],A=w[1],D=Object(m.a)({mode:"onChange",defaultValues:{password:""}}),_=D.control,P=D.handleSubmit,C=D.formState.isValid,S=D.watch,k=Object(v.i)(S("password"),200);Object(p.useEffect)((function(){A("")}),[k]);var I=Object(p.useCallback)(function(){var t=b()((function*(t){var o=yield n(t.password);o===y.a.SUCCESS?a():o===y.a.WRONG_PASSWORD?A(e.formatMessage({id:"msg__wrong_password"})):r()}));return function(e){return t.apply(this,arguments)}}(),[e,n,a,r]);return Object(x.jsx)(o.b,{footer:null,onModalClose:function(){null==f||f()},children:Object(x.jsxs)(i.a,{px:{base:4,md:0},alignItems:"center",children:[Object(x.jsx)(l.a,{mb:"16px",p:"12px",borderRadius:"full",bgColor:"decorative-surface-one",children:Object(x.jsx)(d.a,{name:"LockClosedOutline",color:"decorative-icon-one"})}),Object(x.jsx)(u.h.DisplayLarge,{textAlign:"center",mb:2,children:e.formatMessage({id:"modal__import_backup"})}),Object(x.jsx)(u.h.Body1,{textAlign:"center",color:"text-subdued",children:e.formatMessage({id:"modal__import_backup_desc"})}),Object(x.jsxs)(s.a,{mt:"8",children:[Object(x.jsx)(s.a.Item,{name:"password",defaultValue:"",control:_,rules:{required:e.formatMessage({id:"form__field_is_required"}),minLength:{value:8,message:e.formatMessage({id:"msg__password_validation"})},maxLength:{value:128,message:e.formatMessage({id:"msg__password_validation"})}},children:Object(x.jsx)(s.a.PasswordInput,{autoFocus:!0})}),M?Object(x.jsx)(s.a.FormErrorMessage,{message:M}):null,Object(x.jsx)(c.a,{type:"primary",size:"xl",onPromise:P(I),isDisabled:!C,children:e.formatMessage({id:"action__unlock",defaultMessage:"Unlock"})})]})]})})},M=n(456);!function(e){e.ImportBackupPassword="ImportBackupPassword"}(a||(a={}));var A=Object(M.a)(),D=[{name:a.ImportBackupPassword,component:w}];t.default=function(){var e=Object(r.a)();return Object(x.jsx)(A.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:D.map((function(e){return Object(x.jsx)(A.Screen,{name:e.name,component:e.component},e.name)}))})}},3149:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAABACAMAAABWbGUSAAAAllBMVEUAAAAgICBDQ0MPDw8ICAhGRkZiYmIyMjIvLy81NTViYmIyMjJjY2NbW1s1NTVhYWE0NDRjY2MyMjI6OjpUVFRgYGBiYmIrKysyMjI0NDRhYWFiYmJGRkYXFxcMDAwwMDATExMQEBA/Pz80NDRiYmJQUFBKSko4ODg7OzsoKChMTExPT09DQ0NUVFQiIiIfHx9ZWVlfX197zIXbAAAAHHRSTlMAA2MFCGNgZibw71UgEsHAo6BnY2JSUBdIRUJBZStvwQAAAX5JREFUSMfVkolygyAURUO0rUvWZuuCGrAFNGb7/5/rA7VGHTBpx2l6MpnrcrwDzBv8iPH6UcP7uKGOph8G5qNLd+Wd959aTmdvfdHr7bGRvVd1z8HtsKeo3NsJAyLSwDFwKnf5xjCmQaglyDBmq7waLeHLQ0i2Gkh4AGFZyA9wTcJACyEgPFzIITHIIQjD3uXh9TL6h2vuu5mYZFJv7h6k4aA658w0orS+DIBHGgTGtWWY+bWcxVQGrYWQ0ZaTkJCkFURFc4NUHvSW060Knkcsg2QtWQSSiKuIYxU8yu9aMkvg8ZHlkeIjxIGpSFh7zTsa8R3GKUQKIVSwWEZbxmyX1kIVphCNDRq5S/mW2bCubwZuaEZ9zvN9nPOfy+iOBgktrpEXIEv8rNvNXovmjeiWhVPI1qTTpjOrlB23wxauA3Jh+y4XVIuIXR/cAst2ZrGBiWNLt6y2befl6Ztn9S/xN7ZlgVXZgK0D3qniSgdfAwIGTeQzVAK3ecpf/3wBJ33rfjd+//8AAAAASUVORK5CYII="},3150:function(e,t,n){e.exports=n.p+"static/media/deviceIcon_mini.96e3b384.png"},3151:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAABICAMAAACHrYYZAAAAz1BMVEUAAABkZGRkZGRra2tgYGBOTk5+fn5jY2Nqampubm5eXl5gYGBra2tnZ2dmZmZGRkZ1dXVLS0tLS0t5eXl1dXVVVVVTU1NQUFCBgYGAgIBgYGCAgICAgIAAAAApKSkvLy8sLCwyMjI2NjYkJCQHBwcmJiYhISENDQ07Ozs5OTkeHh5bW1tfX19ycnIFBQVERERAQEBOTk7///+AgIAbGxtiYmIPDw8SEhI9PT1hYWEUFBRXV1dPT08WFhZJSUloaGhTU1O/v79vb29kZGTv7+/qo1HcAAAAHXRSTlMAQCDbMO/f37+IQBDv7+/v39/Pv7+/n4B/YGAgEJ5ceGIAAAI9SURBVEjHvZNpd6IwGIUdtdt09n0DZROsNMSpIg5u0/b//6aSiNxwkpecfulTLR68z7l5Sey9FH9+fBnsl8v1smItLuKfRN58eDu46qv53+f7cjMHm/qNG4d0MFSE830W5CFjLKz/GsJQvuNtUb5Bx8/b3daxwPz0shE+P0TMccIOKmN7eNcIH2ZVQVAURZJMJb7Ak4wkLnO22bpZ0+0sdFiVTozpcYW7cmKeDlUhLKi8JHfiJH3VEpAXgt8WXIugrcgktBeEPClMNQF5ogF5X8axILpBH4AWMDHy0nAJgZrYtQrYAghRbGvAgmgBeb3AJJALogU0IN8hIK8JESHQE0QBIXjantkEnyggBQyAfJeAfLuAEEynNKqEgBA88hHZG8YS5I2CZ8rbBWzBkTo/MQjUnkVWARMjbxKIBUUibxIYVUAKWh4TdzaoeZugn7o6TgjEAEG3oJwJteHGIOiPVAoTWkCBnu8SsGdYECFgYhTYBOTVAkLAzwBnohFCStD34OYZAgoWBkHPQ1iYGvRTGsi4LDA1jFsCCkhhpD1SFFAN2LPnCJE+gVFwIgygFyyYLrB/R1YNuSQWhI4m2KCF/P4OTCghxhf//yo85hC4KqzaAlCE3ez1SbifjbCmyZ0Cd3B/DmFQZgvL2GxVzMv+Sbgss8wbuRVi85rr6bN4eTzbHXonrtKM86wTzovdt0a4vtgk04rEzFTCz/q9hv7FPPGPeHh5nrhRX/jZsKfy6+tH0UuQvf/0/br3QjwBXAV+n5hC73IAAAAASUVORK5CYII="},3168:function(e,t,n){"use strict";var a=n(1203);n.d(t,"a",(function(){return a.a}))},3189:function(e,t,n){"use strict";var a=n(32),r=n(564),o=n(458),i=n(0),c=function(e){var t=e.children,n=e.footer,c=Object(o.a)();return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(r.a,{alignSelf:"stretch",flex:1,px:4,py:{base:4,sm:8},_contentContainerStyle:{w:"full",maxW:800,mx:"auto"},children:t}),n?Object(i.jsx)(a.a,{mx:4,py:4,mb:c.bottom+"px",children:n}):null]})};c.defaultProps={},t.a=c},3208:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(3127),r=n(145),o=n(172);function i(){var e=Object(o.a)();return{showVerify:function(t,n,o,i,c){e.navigate(r.c.Modal,{screen:r.b.ManagerWallet,params:{screen:a.ManagerWalletModalRoutes.ManagerWalletAuthorityVerifyModal,params:{field:i,requestId:null!=o?o:"",onSuccess:t,onCancel:n,walletId:c}}})}}}},3281:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(32),i=n(85),c=n(72),s=n(100),u=n(15),l=n.n(u),d=n(1),f=n(3081),b=n(0),m=["backupTime","numOfHDWallets","numOfImportedAccounts","numOfWatchingAccounts","numOfContacts","size"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t=e.backupTime,n=e.numOfHDWallets,a=e.numOfImportedAccounts,r=e.numOfWatchingAccounts,u=e.numOfContacts,j=e.size,p=l()(e,m),g=Object(s.a)(),O=Object(f.a)(),v=Object(d.useMemo)((function(){return[{iconName:"WalletOutline",count:n},{iconName:"InboxArrowDownOutline",count:a},{iconName:"EyeOutline",count:r},{iconName:"BookOpenOutline",count:u}]}),[u,n,a,r]);return Object(b.jsxs)(o.a,h(h({alignItems:"heading"===j&&g?"center":void 0},p),{},{children:[Object(b.jsx)(c.a,{typography:"heading"===j?"PageHeading":"Body1Strong",children:O.format(new Date(t),"MMM d, yyyy, HH:mm")}),Object(b.jsx)(o.a,{flexDirection:"row",mt:"heading"===j?3:1,mx:-3,flexWrap:"wrap",children:v.map((function(e,t){return Object(b.jsxs)(o.a,{flexDirection:"row",mx:3,children:[Object(b.jsx)(i.a,{name:e.iconName,size:20,color:"icon-subdued"}),Object(b.jsx)(c.a,{typography:"Body2",color:"text-subdued",pl:2,children:e.count})]},t)}))})]}))}},3300:function(e,t,n){"use strict";var a=n(3133);n.d(t,"c",(function(){return a.RecyclerListView})),n.d(t,"a",(function(){return a.DataProvider})),n.d(t,"b",(function(){return a.LayoutProvider}))},3302:function(e,t,n){"use strict";var a=n(115),r=n(85),o=n(0);t.a=function(e){var t=e.enabled,n=e.size;return Object(o.jsx)(a.a,{rounded:"full",size:"lg"===n?"56px":"48px",bgColor:"surface-"+(t?"success":"warning")+"-subdued",children:Object(o.jsx)(r.a,{name:"CloudOutline",size:24,color:"icon-"+(t?"success":"warning")})})}},3335:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(229),r=n(104),o={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},i=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,c=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,s=/^([+-])(\d{2})(?::?(\d{2}))?$/;function u(e,t){Object(r.a)(1,arguments);var n=t||{},o=null==n.additionalDigits?2:Object(a.a)(n.additionalDigits);if(2!==o&&1!==o&&0!==o)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i,c=l(e);if(c.date){var s=d(c.date,o);i=f(s.restDateString,s.year)}if(isNaN(i)||!i)return new Date(NaN);var u,b=i.getTime(),j=0;if(c.time&&(j=m(c.time),isNaN(j)||null===j))return new Date(NaN);if(!c.timezone){var p=new Date(b+j),g=new Date(0);return g.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),g.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),g}return u=h(c.timezone),isNaN(u)?new Date(NaN):new Date(b+j+u)}function l(e){var t,n={},a=e.split(o.dateTimeDelimiter);if(a.length>2)return n;if(/:/.test(a[0])?(n.date=null,t=a[0]):(n.date=a[0],t=a[1],o.timeZoneDelimiter.test(n.date)&&(n.date=e.split(o.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var r=o.timezone.exec(t);r?(n.time=t.replace(r[1],""),n.timezone=r[1]):n.time=t}return n}function d(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(n);if(!a)return{year:null};var r=a[1]&&parseInt(a[1]),o=a[2]&&parseInt(a[2]);return{year:null==o?r:100*o,restDateString:e.slice((a[1]||a[2]).length)}}function f(e,t){if(null===t)return null;var n=e.match(i);if(!n)return null;var a=!!n[4],r=b(n[1]),o=b(n[2])-1,c=b(n[3]),s=b(n[4]),u=b(n[5])-1;if(a)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,u)?function(e,t,n){var a=new Date(0);a.setUTCFullYear(e,0,4);var r=a.getUTCDay()||7,o=7*(t-1)+n+1-r;return a.setUTCDate(a.getUTCDate()+o),a}(t,s,u):new Date(NaN);var l=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(p[t]||(g(e)?29:28))}(t,o,c)&&function(e,t){return t>=1&&t<=(g(e)?366:365)}(t,r)?(l.setUTCFullYear(t,o,Math.max(r,c)),l):new Date(NaN)}function b(e){return e?parseInt(e):1}function m(e){var t=e.match(c);if(!t)return null;var n=j(t[1]),a=j(t[2]),r=j(t[3]);return function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,a,r)?36e5*n+6e4*a+1e3*r:NaN}function j(e){return e&&parseFloat(e.replace(",","."))||0}function h(e){if("Z"===e)return 0;var t=e.match(s);if(!t)return 0;var n="+"===t[1]?-1:1,a=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,r)?n*(36e5*a+6e4*r):NaN}var p=[31,null,31,30,31,30,31,31,30,31,30,31];function g(e){return e%400===0||e%4===0&&e%100}},3336:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(656),r=n(3092),o=n(156),i=n(3107),c=n(1150),s=n(104);function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(s.a)(2,arguments);var u=n.locale||c.a;if(!u.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var l=Object(r.a)(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var d,f,b=Object(i.a)(n);b.addSuffix=Boolean(n.addSuffix),b.comparison=l,l>0?(d=Object(o.a)(t),f=Object(o.a)(e)):(d=Object(o.a)(e),f=Object(o.a)(t));var m,j=null==n.roundingMethod?"round":String(n.roundingMethod);if("floor"===j)m=Math.floor;else if("ceil"===j)m=Math.ceil;else{if("round"!==j)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");m=Math.round}var h,p=f.getTime()-d.getTime(),g=p/6e4,O=Object(a.a)(f)-Object(a.a)(d),v=(p-O)/6e4;if("second"===(h=null==n.unit?g<1?"second":g<60?"minute":g<1440?"hour":v<43200?"day":v<525600?"month":"year":String(n.unit))){var y=m(p/1e3);return u.formatDistance("xSeconds",y,b)}if("minute"===h){var x=m(g);return u.formatDistance("xMinutes",x,b)}if("hour"===h){var w=m(g/60);return u.formatDistance("xHours",w,b)}if("day"===h){var M=m(v/1440);return u.formatDistance("xDays",M,b)}if("month"===h){var A=m(v/43200);return 12===A&&"month"!==n.unit?u.formatDistance("xYears",1,b):u.formatDistance("xMonths",A,b)}if("year"===h){var D=m(v/525600);return u.formatDistance("xYears",D,b)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}},3337:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1150),r=["years","months","weeks","days","hours","minutes","seconds"];function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var n=(null===t||void 0===t?void 0:t.format)||r,o=(null===t||void 0===t?void 0:t.locale)||a.a,i=(null===t||void 0===t?void 0:t.zero)||!1,c=(null===t||void 0===t?void 0:t.delimiter)||" ",s=n.reduce((function(t,n){var a="x".concat(n.replace(/(^.)/,(function(e){return e.toUpperCase()})));return"number"===typeof e[n]&&(i||e[n])&&o.formatDistance?t.concat(o.formatDistance(a,e[n])):t}),[]).join(c);return s}},3343:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(3092),r=n(156),o=n(104);function i(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(e),a=Object(r.a)(t),i=n.getFullYear()-a.getFullYear(),c=n.getMonth()-a.getMonth();return 12*i+c}function c(e){Object(o.a)(1,arguments);var t=Object(r.a)(e);return t.setHours(23,59,59,999),t}function s(e){Object(o.a)(1,arguments);var t=Object(r.a)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function u(e){Object(o.a)(1,arguments);var t=Object(r.a)(e);return c(t).getTime()===s(t).getTime()}function l(e,t){Object(o.a)(2,arguments);var n,c=Object(r.a)(e),s=Object(r.a)(t),l=Object(a.a)(c,s),d=Math.abs(i(c,s));if(d<1)n=0;else{1===c.getMonth()&&c.getDate()>27&&c.setDate(30),c.setMonth(c.getMonth()-l*d);var f=Object(a.a)(c,s)===-l;u(Object(r.a)(e))&&1===d&&1===Object(a.a)(e,s)&&(f=!1),n=l*(d-Number(f))}return 0===n?0:n}function d(e,t){return Object(o.a)(2,arguments),Object(r.a)(e).getTime()-Object(r.a)(t).getTime()}var f={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function b(e){return e?f[e]:f.trunc}function m(e,t,n){Object(o.a)(2,arguments);var a=d(e,t)/1e3;return b(null===n||void 0===n?void 0:n.roundingMethod)(a)}var j=n(1150),h=n(3107),p=n(656);function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(o.a)(2,arguments);var i=n.locale||j.a;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var c=Object(a.a)(e,t);if(isNaN(c))throw new RangeError("Invalid time value");var s,u,d=Object(h.a)(n);d.addSuffix=Boolean(n.addSuffix),d.comparison=c,c>0?(s=Object(r.a)(t),u=Object(r.a)(e)):(s=Object(r.a)(e),u=Object(r.a)(t));var f,b=m(u,s),g=(Object(p.a)(u)-Object(p.a)(s))/1e3,O=Math.round((b-g)/60);if(O<2)return n.includeSeconds?b<5?i.formatDistance("lessThanXSeconds",5,d):b<10?i.formatDistance("lessThanXSeconds",10,d):b<20?i.formatDistance("lessThanXSeconds",20,d):b<40?i.formatDistance("halfAMinute",null,d):b<60?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",1,d):0===O?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",O,d);if(O<45)return i.formatDistance("xMinutes",O,d);if(O<90)return i.formatDistance("aboutXHours",1,d);if(O<1440){var v=Math.round(O/60);return i.formatDistance("aboutXHours",v,d)}if(O<2520)return i.formatDistance("xDays",1,d);if(O<43200){var y=Math.round(O/1440);return i.formatDistance("xDays",y,d)}if(O<86400)return f=Math.round(O/43200),i.formatDistance("aboutXMonths",f,d);if((f=l(u,s))<12){var x=Math.round(O/43200);return i.formatDistance("xMonths",x,d)}var w=f%12,M=Math.floor(f/12);return w<3?i.formatDistance("aboutXYears",M,d):w<9?i.formatDistance("overXYears",M,d):i.formatDistance("almostXYears",M+1,d)}function O(e,t){return Object(o.a)(1,arguments),g(e,Date.now(),t)}},3344:function(e,t,n){"use strict";var a={lessThanXSeconds:{one:"\u4e0d\u5230 1 \u79d2",other:"\u4e0d\u5230 {{count}} \u79d2"},xSeconds:{one:"1 \u79d2",other:"{{count}} \u79d2"},halfAMinute:"\u534a\u5206\u949f",lessThanXMinutes:{one:"\u4e0d\u5230 1 \u5206\u949f",other:"\u4e0d\u5230 {{count}} \u5206\u949f"},xMinutes:{one:"1 \u5206\u949f",other:"{{count}} \u5206\u949f"},xHours:{one:"1 \u5c0f\u65f6",other:"{{count}} \u5c0f\u65f6"},aboutXHours:{one:"\u5927\u7ea6 1 \u5c0f\u65f6",other:"\u5927\u7ea6 {{count}} \u5c0f\u65f6"},xDays:{one:"1 \u5929",other:"{{count}} \u5929"},aboutXWeeks:{one:"\u5927\u7ea6 1 \u4e2a\u661f\u671f",other:"\u5927\u7ea6 {{count}} \u4e2a\u661f\u671f"},xWeeks:{one:"1 \u4e2a\u661f\u671f",other:"{{count}} \u4e2a\u661f\u671f"},aboutXMonths:{one:"\u5927\u7ea6 1 \u4e2a\u6708",other:"\u5927\u7ea6 {{count}} \u4e2a\u6708"},xMonths:{one:"1 \u4e2a\u6708",other:"{{count}} \u4e2a\u6708"},aboutXYears:{one:"\u5927\u7ea6 1 \u5e74",other:"\u5927\u7ea6 {{count}} \u5e74"},xYears:{one:"1 \u5e74",other:"{{count}} \u5e74"},overXYears:{one:"\u8d85\u8fc7 1 \u5e74",other:"\u8d85\u8fc7 {{count}} \u5e74"},almostXYears:{one:"\u5c06\u8fd1 1 \u5e74",other:"\u5c06\u8fd1 {{count}} \u5e74"}};var r=n(771),o={date:Object(r.a)({formats:{full:"y'\u5e74'M'\u6708'd'\u65e5' EEEE",long:"y'\u5e74'M'\u6708'd'\u65e5'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},defaultWidth:"full"}),time:Object(r.a)({formats:{full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},defaultWidth:"full"}),dateTime:Object(r.a)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},i=n(104),c=n(515);function s(e,t,n,a){return function(e,t,n){Object(i.a)(2,arguments);var a=Object(c.a)(e,n),r=Object(c.a)(t,n);return a.getTime()===r.getTime()}(e,t,n)?a:e.getTime()>t.getTime()?"'\u4e0b\u4e2a'"+a:"'\u4e0a\u4e2a'"+a}var u={lastWeek:s,yesterday:"'\u6628\u5929' p",today:"'\u4eca\u5929' p",tomorrow:"'\u660e\u5929' p",nextWeek:s,other:"PP p"};var l=n(570);var d={ordinalNumber:function(e,t){var n=Number(e);switch(String((t||{}).unit)){case"date":return n.toString()+"\u65e5";case"hour":return n.toString()+"\u65f6";case"minute":return n.toString()+"\u5206";case"second":return n.toString()+"\u79d2";default:return"\u7b2c "+n.toString()}},era:Object(l.a)({values:{narrow:["\u524d","\u516c\u5143"],abbreviated:["\u524d","\u516c\u5143"],wide:["\u516c\u5143\u524d","\u516c\u5143"]},defaultWidth:"wide"}),quarter:Object(l.a)({values:{narrow:["1","2","3","4"],abbreviated:["\u7b2c\u4e00\u5b63","\u7b2c\u4e8c\u5b63","\u7b2c\u4e09\u5b63","\u7b2c\u56db\u5b63"],wide:["\u7b2c\u4e00\u5b63\u5ea6","\u7b2c\u4e8c\u5b63\u5ea6","\u7b2c\u4e09\u5b63\u5ea6","\u7b2c\u56db\u5b63\u5ea6"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Object(l.a)({values:{narrow:["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"],abbreviated:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],wide:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]},defaultWidth:"wide"}),day:Object(l.a)({values:{narrow:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],short:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],abbreviated:["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],wide:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"]},defaultWidth:"wide"}),dayPeriod:Object(l.a)({values:{narrow:{am:"\u4e0a",pm:"\u4e0b",midnight:"\u51cc\u6668",noon:"\u5348",morning:"\u65e9",afternoon:"\u4e0b\u5348",evening:"\u665a",night:"\u591c"},abbreviated:{am:"\u4e0a\u5348",pm:"\u4e0b\u5348",midnight:"\u51cc\u6668",noon:"\u4e2d\u5348",morning:"\u65e9\u6668",afternoon:"\u4e2d\u5348",evening:"\u665a\u4e0a",night:"\u591c\u95f4"},wide:{am:"\u4e0a\u5348",pm:"\u4e0b\u5348",midnight:"\u51cc\u6668",noon:"\u4e2d\u5348",morning:"\u65e9\u6668",afternoon:"\u4e2d\u5348",evening:"\u665a\u4e0a",night:"\u591c\u95f4"}},defaultWidth:"wide",formattingValues:{narrow:{am:"\u4e0a",pm:"\u4e0b",midnight:"\u51cc\u6668",noon:"\u5348",morning:"\u65e9",afternoon:"\u4e0b\u5348",evening:"\u665a",night:"\u591c"},abbreviated:{am:"\u4e0a\u5348",pm:"\u4e0b\u5348",midnight:"\u51cc\u6668",noon:"\u4e2d\u5348",morning:"\u65e9\u6668",afternoon:"\u4e2d\u5348",evening:"\u665a\u4e0a",night:"\u591c\u95f4"},wide:{am:"\u4e0a\u5348",pm:"\u4e0b\u5348",midnight:"\u51cc\u6668",noon:"\u4e2d\u5348",morning:"\u65e9\u6668",afternoon:"\u4e2d\u5348",evening:"\u665a\u4e0a",night:"\u591c\u95f4"}},defaultFormattingWidth:"wide"})},f=n(1167),b=n(571),m={code:"zh-CN",formatDistance:function(e,t,n){var r;return n=n||{},r="string"===typeof a[e]?a[e]:1===t?a[e].one:a[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?r+"\u5185":r+"\u524d":r},formatLong:o,formatRelative:function(e,t,n,a){var r=u[e];return"function"===typeof r?r(t,n,a,"eeee p"):r},localize:d,match:{ordinalNumber:Object(f.a)({matchPattern:/^(\u7b2c\s*)?\d+(\u65e5|\u65f6|\u5206|\u79d2)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:Object(b.a)({matchPatterns:{narrow:/^(\u524d)/i,abbreviated:/^(\u524d)/i,wide:/^(\u516c\u5143\u524d|\u516c\u5143)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^(\u524d)/i,/^(\u516c\u5143)/i]},defaultParseWidth:"any"}),quarter:Object(b.a)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^\u7b2c[\u4e00\u4e8c\u4e09\u56db]\u523b/i,wide:/^\u7b2c[\u4e00\u4e8c\u4e09\u56db]\u523b\u949f/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(1|\u4e00)/i,/(2|\u4e8c)/i,/(3|\u4e09)/i,/(4|\u56db)/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Object(b.a)({matchPatterns:{narrow:/^(\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d|\u5341[\u4e8c\u4e00])/i,abbreviated:/^(\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d|\u5341[\u4e8c\u4e00]|\d|1[12])\u6708/i,wide:/^(\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d|\u5341[\u4e8c\u4e00])\u6708/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^\u4e00/i,/^\u4e8c/i,/^\u4e09/i,/^\u56db/i,/^\u4e94/i,/^\u516d/i,/^\u4e03/i,/^\u516b/i,/^\u4e5d/i,/^\u5341(?!(\u4e00|\u4e8c))/i,/^\u5341\u4e00/i,/^\u5341\u4e8c/i],any:[/^\u4e00|1/i,/^\u4e8c|2/i,/^\u4e09|3/i,/^\u56db|4/i,/^\u4e94|5/i,/^\u516d|6/i,/^\u4e03|7/i,/^\u516b|8/i,/^\u4e5d|9/i,/^\u5341(?!(\u4e00|\u4e8c))|10/i,/^\u5341\u4e00|11/i,/^\u5341\u4e8c|12/i]},defaultParseWidth:"any"}),day:Object(b.a)({matchPatterns:{narrow:/^[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u65e5]/i,short:/^[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u65e5]/i,abbreviated:/^\u5468[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u65e5]/i,wide:/^\u661f\u671f[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u65e5]/i},defaultMatchWidth:"wide",parsePatterns:{any:[/\u65e5/i,/\u4e00/i,/\u4e8c/i,/\u4e09/i,/\u56db/i,/\u4e94/i,/\u516d/i]},defaultParseWidth:"any"}),dayPeriod:Object(b.a)({matchPatterns:{any:/^(\u4e0a\u5348?|\u4e0b\u5348?|\u5348\u591c|[\u4e2d\u6b63]\u5348|\u65e9\u4e0a?|\u4e0b\u5348|\u665a\u4e0a?|\u51cc\u6668|)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^\u4e0a\u5348?/i,pm:/^\u4e0b\u5348?/i,midnight:/^\u5348\u591c/i,noon:/^[\u4e2d\u6b63]\u5348/i,morning:/^\u65e9\u4e0a/i,afternoon:/^\u4e0b\u5348/i,evening:/^\u665a\u4e0a?/i,night:/^\u51cc\u6668/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}};t.a=m},3368:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(3137),r=n(145),o=n(172);function i(){var e=Object(o.a)();return{requestBackupPassword:function(t,n,o,i){e.navigate(r.c.Modal,{screen:r.b.ImportBackupPassword,params:{screen:a.ImportBackupPasswordRoutes.ImportBackupPassword,params:{withPassword:t,onSuccess:n,onError:o,onCancel:i}}})}}}},3369:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(290),r=n(179),o=n(3),i=n.n(o),c=n(429),s=n(466),u=n(392),l=n(0);function d(e){var t=e.closeOverlay,n=Object(c.a)();return Object(l.jsx)(a.a,{visible:!0,onClose:t,footerButtonProps:{primaryActionTranslationId:"action__upgrade",secondaryActionTranslationId:"action__cancel",primaryActionProps:{type:"primary",onPromise:function(){var e=i()((function*(){try{var e=yield s.a.getPackageInfo();e&&(s.a.openAppUpdate({package:e}),t())}catch(a){r.a.show({title:n.formatMessage({id:"msg__network_request_failed"})})}}));return function(){return e.apply(this,arguments)}}()}},contentProps:{iconType:"info",title:n.formatMessage({id:"dialog__import_data_upgrade_required"}),content:n.formatMessage({id:"dialog__import_data_upgrade_required_desc"})}})}var f=function(){Object(u.a)((function(e){return Object(l.jsx)(d,{closeOverlay:e})}))}},3428:function(e,t,n){"use strict";n.r(t),n.d(t,"GroupedBackupDetails",(function(){return X}));var a=n(289),r=n(290),o=n(179),i=n(3),c=n.n(i),s=n(100),u=n(103),l=n(15),d=n.n(l),f=n(2),b=n.n(f),m=n(10),j=n.n(m),h=n(85),p=n(32),g=n(115),O=n(72),v=n(1),y=n(57),x=n(479),w=n.n(x),M=n(429),A=n(24),D=n(231),_=n.n(D),P=n(772),C=n(43),S=n(178),k=n(39),I=n(3368),T=n(3208),B=n(3105),W=n(145),E=n(392),N=n(3302),z=n(3281),U=n(3369),V=n(3189),R=n(0),Y=["size","ready","onImport","onDelete"];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e){var t,n=e.name,a=e.avatar,r=e.accountUUIDs,o=Object(M.a)();return Object(R.jsxs)(p.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:1,children:[Object(R.jsx)(g.a,{rounded:"full",size:"8",bgColor:null!=(t=null==a?void 0:a.bgColor)?t:"surface-neutral-default",children:null!=a&&a.emoji?Object(R.jsx)(O.a,{typography:"DisplayMedium",children:a.emoji}):void 0}),Object(R.jsx)(O.a,{px:"4",typography:"Body2Strong",flex:"1",isTruncated:!0,children:n}),Object(R.jsx)(O.a,{typography:"Body2",color:"text-subdued",children:o.formatMessage({id:"form__str_accounts"},{count:r.length})})]})},G=function(e){var t=e.category,n=e.name,a=e.address,r="EyeOutline";return"contact"===t?r="BookOpenOutline":"importedAccount"===t&&(r="InboxArrowDownOutline"),Object(R.jsxs)(p.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:1,children:[Object(R.jsx)(g.a,{rounded:"full",size:"8",bgColor:"surface-neutral-default",children:Object(R.jsx)(h.a,{name:r,size:20,color:"icon-default"})}),Object(R.jsx)(O.a,{px:"4",typography:"Body2Strong",flex:"1",isTruncated:!0,children:n}),Object(R.jsx)(O.a,{typography:"Body2",color:"text-subdued",children:a})]})},X=function(e){var t=e.onDevice,n=e.showTitle,a=void 0===n||n,r=e.publicBackupData,o=Object(M.a)(),i=Object.entries(r.HDWallets).map((function(e){var t=j()(e,2);return H({uuid:t[0]},t[1])})).sort((function(e,t){return w()({insensitive:!0})(e.name,t.name)})),c=Object.entries(r.importedAccounts).map((function(e){var t=j()(e,2);return H({uuid:t[0]},t[1])})).sort((function(e,t){return w()({insensitive:!0})(e.name,t.name)})),s=Object.entries(r.watchingAccounts).map((function(e){var t=j()(e,2);return H({uuid:t[0]},t[1])})).sort((function(e,t){return w()({insensitive:!0})(e.name,t.name)})),u=Object.entries(r.contacts).map((function(e){var t=j()(e,2);return H({uuid:t[0]},t[1])})).sort((function(e,t){return w()({insensitive:!0})(e.name,t.name)}));return Object(R.jsxs)(p.a,{my:4,mx:12,children:[a&&Object(R.jsx)(O.a,{typography:"Heading",pb:"4",children:o.formatMessage({id:t?"content__active_on_this_device":"content__not_on_this_device"})}),i.map((function(e){var t=e.uuid,n=e.name,a=e.avatar,r=e.accountUUIDs;return Object(R.jsx)(L,{name:n,avatar:a,accountUUIDs:r},t)})),c.map((function(e){var t=e.uuid,n=e.name,a=e.address;return Object(R.jsx)(G,{category:"importedAccount",name:n,address:a},t)})),s.map((function(e){var t=e.uuid,n=e.name,a=e.address;return Object(R.jsx)(G,{category:"watchingAccount",name:n,address:a},t)})),u.map((function(e){var t=e.uuid,n=e.name,a=e.address;return Object(R.jsx)(G,{category:"contact",name:n,address:a},t)}))]})},Z=function(e){var t=e.size,n=e.ready,a=e.onImport,r=e.onDelete,o=d()(e,Y),i=Object(M.a)();return Object(R.jsxs)(p.a,H(H({flexDirection:"row"},o),{},{children:["undefined"===typeof a||n?void 0:Object(R.jsx)(u.a,{onPress:a,type:"primary",size:t,flexGrow:{base:1,sm:0},children:i.formatMessage({id:"action__import"})}),"undefined"===typeof r||n?void 0:Object(R.jsx)(u.a,{onPress:r,type:"destructive",size:t,ml:4,flexGrow:{base:1,sm:0},children:i.formatMessage({id:"action__delete"})})]}))};t.default=function(e){var t=e.onboarding,n=void 0!==t&&t,i=Object(M.a)(),u=Object(s.a)(),l=Object(S.o)(),d=Object(y.x)(),f=Object(k.e)((function(e){return e.settings.version})),b=Object(k.g)().isPasswordSet,m=C.a.serviceCloudBackup,h=Object(T.a)().showVerify,g=Object(I.a)().requestBackupPassword,O=Object(B.b)();Object(v.useLayoutEffect)((function(){var e=i.formatMessage({id:"title__backup_details"});l.setOptions({title:e})}),[l,i]);var x=d.params,w=x.backupUUID,D=x.backupTime,Y=x.numOfHDWallets,F=x.numOfImportedAccounts,H=x.numOfWatchingAccounts,L=x.numOfContacts,G=Object(v.useState)(!0),Q=j()(G,2),J=Q[0],K=Q[1],q=Object(v.useState)(!1),$=j()(q,2),ee=$[0],te=$[1],ne=Object(v.useState)({alreadyOnDevice:{contacts:{},importedAccounts:{},watchingAccounts:{},HDWallets:{}},notOnDevice:{contacts:{},importedAccounts:{},watchingAccounts:{},HDWallets:{}}}),ae=j()(ne,2),re=ae[0],oe=ae[1],ie=Object(v.useState)(!1),ce=j()(ie,2),se=ce[0],ue=ce[1],le=Object(v.useState)(),de=j()(le,2),fe=de[0],be=de[1],me=Object(v.useState)(!1),je=j()(me,2),he=je[0],pe=je[1],ge=Object(v.useCallback)((function(){return void 0===fe||(!fe||!_.a.gt(fe,f))}),[f,fe]);Object(v.useEffect)((function(){m.getBackupDetails(w).then((function(e){var t=e.backupDetails,n=e.appVersion;be(n),oe(t),ue(Object.values(t.alreadyOnDevice).some((function(e){return Object.keys(e).length>0}))),pe(Object.values(t.notOnDevice).some((function(e){return Object.keys(e).length>0}))),K(!1)}))}),[K,m,w]);var Oe=Object(v.useCallback)(c()((function*(){o.a.show({title:i.formatMessage({id:"msg__backup_imported"})}),n?yield O({delay:200}):l.navigate(W.a.InitialTab)})),[i,n,O,l]),ve=Object(v.useCallback)((function(){o.a.show({title:i.formatMessage({id:"msg__import_icloud_backup_failed_version"})},{type:"error"}),l.goBack()}),[i,l]),ye=Object(v.useCallback)((function(){!1!==ge()?b?h((function(e){m.restoreFromBackup({backupUUID:w,notOnDevice:re.notOnDevice,localPassword:e}).then((function(t){t===P.a.SUCCESS?Oe():t===P.a.WRONG_PASSWORD?g((function(t){return m.restoreFromBackup({backupUUID:w,notOnDevice:re.notOnDevice,localPassword:e,remotePassword:t})}),Oe,ve):ve()}))}),(function(){})):g((function(e){return m.restoreFromBackup({backupUUID:w,notOnDevice:re.notOnDevice,localPassword:e,remotePassword:e})}),Oe,ve):Object(U.a)()}),[b,ge,h,m,w,re.notOnDevice,Oe,g,ve]),xe=Object(v.useCallback)((function(){Object(E.a)((function(e){return Object(R.jsx)(r.a,{visible:!0,onClose:e,footerButtonProps:{primaryActionTranslationId:"action__delete",secondaryActionTranslationId:"action__cancel",primaryActionProps:{type:"destructive"},onPrimaryActionPress:function(){var t=c()((function*(){ee||(te(!0),yield m.removeBackup(w),te(!1),e(),l.pop(2))}));return function(){return t.apply(this,arguments)}}()},contentProps:{iconType:"danger",title:i.formatMessage({id:"dialog__delete_backup"}),content:i.formatMessage({id:"dialog__delete_backup_desc"})}})}))}),[w,ee,i,l,m]);return Object(R.jsxs)(V.a,{footer:u?Object(R.jsx)(Z,{ready:J,onImport:he?ye:void 0,onDelete:n?void 0:xe,size:"xl",position:"absolute",bottom:0}):void 0,children:[Object(R.jsxs)(p.a,{flexDirection:u?"column":"row",alignItems:"center",children:[Object(R.jsx)(p.a,{mb:{base:6,sm:0},mr:{sm:6},children:Object(R.jsx)(N.a,{size:"lg",enabled:!0})}),Object(R.jsx)(z.a,{backupTime:D,numOfHDWallets:Y,numOfImportedAccounts:F,numOfWatchingAccounts:H,numOfContacts:L,size:"heading"}),u?void 0:Object(R.jsx)(Z,{ready:J,onImport:he?ye:void 0,onDelete:n?void 0:xe,size:"base",ml:"auto"})]}),Object(R.jsx)(p.a,{borderBottomWidth:A.a.hairlineWidth,borderBottomColor:"divider",mt:{base:6,sm:8},mb:{base:2,sm:4}}),J?Object(R.jsx)(a.b,{size:"lg"}):Object(R.jsxs)(p.a,{flexDirection:u?"column":"row",mx:-12,children:[se?Object(R.jsx)(X,{onDevice:!0,publicBackupData:re.alreadyOnDevice}):void 0,he?Object(R.jsx)(X,{onDevice:!1,publicBackupData:re.notOnDevice}):void 0]})]})}}}]);
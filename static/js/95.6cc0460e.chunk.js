(this.webpackJsonp=this.webpackJsonp||[]).push([[95,845],{3027:function(e,t,n){"use strict";n.r(t),n.d(t,"ModalNavigatorRoutes",(function(){return f}));var r=n(2),o=n.n(r),c=n(100),i=n(1),l=n(292),a=n(463),s=n(145),u=n(760),b=n(456),d=n(0);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var f,p=Object(a.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(3),n.e(6),n.e(4),n.e(7),n.e(9)]).then(n.bind(null,3162))})),O=Object(a.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(3),n.e(6),n.e(4),n.e(7),n.e(9)]).then(n.bind(null,3125))})),m=Object(a.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(3),n.e(6),n.e(4),n.e(7),n.e(9)]).then(n.bind(null,3136))})),h=Object(a.a)((function(){return n.e(107).then(n.bind(null,3229))})),x=Object(a.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(3),n.e(6),n.e(4),n.e(7),n.e(9)]).then(n.bind(null,3194))})),v=Object(a.a)((function(){return n.e(93).then(n.bind(null,3177))})),g=Object(a.a)((function(){return Promise.all([n.e(43),n.e(55)]).then(n.bind(null,3244))})),y=Object(a.a)((function(){return n.e(104).then(n.bind(null,3197))})),P=Object(a.a)((function(){return n.e(65).then(n.bind(null,3115))})),w=Object(a.a)((function(){return Promise.all([n.e(2),n.e(4),n.e(96)]).then(n.bind(null,3216))})),k=Object(a.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(3),n.e(6),n.e(4),n.e(7),n.e(9)]).then(n.bind(null,3196))})),C=Object(a.a)((function(){return n.e(6).then(n.bind(null,3199))})),S=Object(a.a)((function(){return Promise.resolve().then(n.bind(null,1158))})),M=Object(a.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(3),n.e(6),n.e(4),n.e(7),n.e(75)]).then(n.bind(null,3241))})),I=Object(a.a)((function(){return n.e(843).then(n.bind(null,3137))})),A=Object(a.a)((function(){return n.e(105).then(n.bind(null,3245))})),D=Object(a.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(3),n.e(6),n.e(4),n.e(7),n.e(9)]).then(n.bind(null,3193))})),L=Object(a.a)((function(){return Promise.all([n.e(1),n.e(37)]).then(n.bind(null,3178))})),_=Object(a.a)((function(){return Promise.all([n.e(1),n.e(86)]).then(n.bind(null,3127))})),B=Object(a.a)((function(){return Promise.all([n.e(3),n.e(94)]).then(n.bind(null,3195))})),T=Object(a.a)((function(){return Promise.all([n.e(0),n.e(39),n.e(47)]).then(n.bind(null,3240))})),E=Object(a.a)((function(){return n.e(844).then(n.bind(null,3198))})),N=Object(a.a)((function(){return n.e(98).then(n.bind(null,3231))})),R=Object(a.a)((function(){return n.e(41).then(n.bind(null,3128))})),W=Object(a.a)((function(){return n.e(101).then(n.bind(null,3247))})),F=Object(a.a)((function(){return n.e(103).then(n.bind(null,3250))})),H=Object(a.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(3),n.e(6),n.e(4),n.e(7),n.e(71)]).then(n.bind(null,3238))})),z=Object(a.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(3),n.e(6),n.e(4),n.e(7),n.e(9)]).then(n.bind(null,3192))})),U=Object(a.a)((function(){return n.e(76).then(n.bind(null,3246))})),V=Object(a.a)((function(){return Promise.resolve().then(n.bind(null,955))})),q=Object(a.a)((function(){return Promise.all([n.e(5),n.e(15),n.e(48)]).then(n.bind(null,3237))})),J=Object(a.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(3),n.e(6),n.e(4),n.e(7),n.e(9)]).then(n.bind(null,3129))})),Q=Object(a.a)((function(){return Promise.resolve().then(n.bind(null,1159))})),X=Object(a.a)((function(){return n.e(102).then(n.bind(null,3234))})),G=Object(a.a)((function(){return n.e(88).then(n.bind(null,3243))})),K=Object(a.a)((function(){return Promise.all([n.e(0),n.e(64)]).then(n.bind(null,3251))})),Y=Object(a.a)((function(){return n.e(42).then(n.bind(null,3242))})),Z=Object(a.a)((function(){return n.e(81).then(n.bind(null,3248))}));!function(e){e.ReceiveTokenNavigator="ReceiveTokenNavigator",e.SendNavigator="SendNavigator"}(f||(f={}));var $=[{name:s.b.CreateAccount,component:m},{name:s.b.RecoverAccount,component:h},{name:s.b.Receive,component:R},{name:s.b.Send,component:z},{name:s.b.ScanQrcode,component:H},{name:s.b.BackupWallet,component:p},{name:s.b.TransactionDetail,component:J},{name:s.b.ManageToken,component:B},{name:s.b.SubmitRequest,component:V},{name:s.b.HistoryRequest,component:M},{name:s.b.Password,component:E},{name:s.b.OnekeyLiteReset,component:C},{name:s.b.OnekeyLiteChangePinInputPin,component:k},{name:s.b.DappConnectionModal,component:v},{name:s.b.Collectibles,component:O},{name:s.b.CreateWallet,component:x},{name:s.b.ManagerWallet,component:_},{name:s.b.ManagerAccount,component:L},{name:s.b.EnableLocalAuthentication,component:y},{name:s.b.ManageNetwork,component:D},{name:s.b.OnekeyHardware,component:w},{name:s.b.HardwareUpdate,component:S},{name:s.b.Discover,component:g},{name:s.b.Swap,component:q},{name:s.b.UpdateFeature,component:Q},{name:s.b.FiatPay,component:P},{name:s.b.AddressBook,component:G},{name:s.b.ImportBackupPassword,component:I},{name:s.b.Staking,component:U},{name:s.b.ManageConnectedSites,component:A},{name:s.b.PushNotification,component:N},{name:s.b.Webview,component:X},{name:s.b.Revoke,component:W},{name:s.b.NFTMarket,component:T},{name:s.b.Overview,component:K},{name:s.b.CurrencySelect,component:Z},{name:s.b.BulkSender,component:F},{name:s.b.Market,component:Y}],ee=Object(b.a)();t.default=Object(i.memo)((function(){var e=Object(c.a)(),t=Object(i.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({headerShown:!1,presentation:"modal"},Object(u.a)({isVerticalLayout:e}))}),[e]);return Object(d.jsx)(l.a,{children:Object(d.jsx)(ee.Navigator,{screenOptions:t,children:$.map((function(e){return Object(d.jsx)(ee.Screen,{name:e.name,component:e.component},e.name)}))})})}))},3100:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,o=n(2),c=n.n(o),i=n(72),l=n(15),a=n.n(l),s=n(36),u=n(0),b=["prefix","price","networkId","symbol"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=((r={})[s.a.eth]="ETH",r[s.a.optimism]="ETH",r[s.a.bsc]="BNB",r[s.a.polygon]="MATIC",r[s.a.arbitrum]="ETH",r[s.a.sol]="SOL",r[s.a.avalanche]="AVAX",r);function p(e){var t=e.prefix,n=e.price,r=e.networkId,o=e.symbol,c=null!=o?o:f[null!=r?r:""],i="\u2013";return n&&null!==n&&(i=n+" "+(null!=c?c:"")),t?t+" "+i:""+i}t.b=function(e){var t=e.prefix,n=void 0===t?"":t,r=e.price,o=e.networkId,c=e.symbol,l=a()(e,b);return Object(u.jsx)(i.a,j(j({},l),{},{children:p({prefix:n,price:r,networkId:o,symbol:c})}))}},3114:function(e,t,n){"use strict";var r=n(3288);n.d(t,"a",(function(){return r.a}))},3174:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.SearchModal="SearchModal",e.FilterModal="FilterModal",e.ShareNFTPNLModal="ShareNFTPNLModal",e.CalculatorModal="CalculatorModal",e.MarketPlaceScreen="MarketPlaceScreen"}(r||(r={}))},3288:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(10),o=n.n(r),c=n(15),i=n.n(c),l=n(1),a=n(251),s=n(261),u=n(254),b=n(205);var d=n(562),j=n(662),f=n(23),p=["children"];function O(e){var t=e.children,n=i()(e,p),r=Object(a.a)("Hidden",n,{},{ignoreProps:["only","platform"]}),c=r.from,l=r.till,O=r.only,m=r.platform,h=r.colorMode,x=Object(s.a)().breakpoints,v=Object(j.b)(),g=function(e){var t,n=null===(t=Object(u.a)())||void 0===t?void 0:t.width,r=Object(s.a)();if(Object(b.k)(e,r.breakpoints)){var o=Object(b.g)(r.breakpoints,n);return Object(b.f)(e,r.breakpoints,o)}return e}(Object.keys(x).reduce((function(e,t){return e[t]=t,e}),{})),y=Object(d.a)("breakpoints",[g]),P=o()(y,1)[0],w=Object(d.a)("breakpoints",[c]),k=o()(w,1)[0],C=Object(d.a)("breakpoints",[l]),S=o()(C,1)[0];return c||l||O||h||m?c&&l&&P>=k&&P<S||c&&!l&&P>=k||l&&!c&&P<S||Array.isArray(O)&&O.includes(g)||O===g||Array.isArray(m)&&m.includes(f.a.OS)||m===f.a.OS||h===v.colorMode?null:t:null}Object(l.memo)(O)},4102:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),c=n(32),i=n(2),l=n.n(i),a=n(10),s=n.n(a),u=n(103),b=n(3114),d=n(199),j=n(1),f=n(57),p=n(429),O=n(145),m=n(43),h=n(3174),x=Object(j.createContext)(null);function v(){return Object(j.useContext)(x)}var g=n(100),y=n(240),P=n(130),w=n(72),k=n(15),C=n.n(k),S=n(460),M=n(3072),I=n(1145),A=n(734),D=n(554),L=n(467),_=n(3141),B=n(3125),T=n(39),E=n(765),N=n(3130),R=n(3783),W=n(0),F=["asset","cardWidth","margin","marginBottom"];function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e){switch(e){case 3:return 45;case 4:return 48;case 5:return 50;default:return 48}}var V=function(e){var t=e.numColumns,n=e.margin,r=e.cardWidth,o=e.marginBottom,i=new Array(2).fill(0),l=new Array(t).fill(0),a=Object(g.a)();return Object(W.jsx)(A.a,{width:"full",space:o+"px",children:i.map((function(e,t){return Object(W.jsx)(D.a,{width:"full",space:n+"px",children:l.map((function(e,n){return Object(W.jsxs)(c.a,{flexDirection:"column",children:[Object(W.jsx)(I.a,{width:r,height:r,borderRadius:"12px"}),Object(W.jsx)(c.a,{mt:"8px",children:Object(W.jsx)(M.a,{shape:a?"Body2":"Body1"})})]},"row"+n+t)}))},"col"+t)}))})},q=function(e){var t=e.asset,n=e.cardWidth,r=(e.margin,e.marginBottom,C()(e,F)),o="";o=t.name&&t.name.length>0?t.name:"#"+t.tokenId;var i="";t.latestTradePrice&&"number"===typeof t.latestTradePrice&&(i=t.latestTradePrice+" "+t.latestTradeSymbol);var l=r.onPress,a=Object(g.a)();return Object(W.jsxs)(L.a,{style:{marginHorizontal:a?4:12,width:n},onPress:l,children:[Object(W.jsx)(N.a,{asset:t,borderRadius:"12px",size:n}),Object(W.jsxs)(c.a,{mt:"8px",alignSelf:"stretch",children:[Object(W.jsx)(w.a,{typography:{sm:"Body2Strong",md:"Body1Strong"},isTruncated:!0,children:o}),i?Object(W.jsx)(w.a,{typography:"Body2",mt:"4px",color:"text-subdued",numberOfLines:1,children:i}):null]})]})},J=function(e){var t,n,r=e.contractAddress,i=e.networkId,l=e.ListHeaderComponent,a=Object(g.a)(),s=Object(S.a)().screenWidth,u=Object(E.a)(),b=Object(f.u)(),d=null==(t=v())?void 0:t.context,p=null==(n=v())?void 0:n.setContext,h=Object(j.useRef)(),x=Object(j.useRef)(),y=m.a.serviceNFT,P=a?16:32,w=a?16:24,k=a?8:24,C=a?s-32:Math.min(992,s-224-2*P),M=Object(R.b)({maxCardWidth:145,numColumns:3,margin:k,pageWidth:C}),I=M.cardWidth,A=M.numColumns,D=Object(j.useCallback)(function(){var e=o()((function*(e){var t=yield y.getCollectionAssets(e);null!=t&&t.content&&(h.current=t.next,p&&p((function(e){return null!=d&&d.refreshing?z(z({},e),{},{assetList:t.content}):z(z({},e),{},{assetList:e.assetList.concat(null==t?void 0:t.content)})})))}));return function(t){return e.apply(this,arguments)}}(),[null==d?void 0:d.refreshing,y,p]);Object(j.useEffect)((function(){0===(null==d?void 0:d.selectedIndex)&&u&&0===(null==d?void 0:d.attributes.length)&&(null!=d&&d.refreshing&&(h.current=void 0),null!==h.current&&D({chain:i,contractAddress:r,cursor:h.current,limit:U(A)}).then((function(){p&&p((function(e){return z(z({},e),{},{refreshing:!1})}))})))}),[null==d?void 0:d.attributes.length,null==d?void 0:d.refreshing,null==d?void 0:d.selectedIndex,r,D,u,i,A,p]);var L=Object(j.useCallback)(function(){var e=o()((function*(e){var t=yield y.getAssetsWithAttributes(e);null!=t&&t.content&&(x.current=t.next,p&&p((function(e){return null!=d&&d.refreshing?z(z({},e),{},{filterAssetList:t.content}):z(z({},e),{},{filterAssetList:e.filterAssetList.concat(null==t?void 0:t.content)})})))}));return function(t){return e.apply(this,arguments)}}(),[null==d?void 0:d.refreshing,y,p]);Object(j.useEffect)((function(){0===(null==d?void 0:d.selectedIndex)&&u&&(null==d?void 0:d.attributes.length)>0&&(null!=d&&d.refreshing&&(x.current=void 0,p&&p((function(e){return z(z({},e),{},{filterAssetList:[]})}))),null!==x.current&&L({chain:i,attributes:d.attributes,contractAddress:r,cursor:x.current,limit:U(A)}).then((function(){p&&p((function(e){return z(z({},e),{},{refreshing:!1})}))})))}),[null==d?void 0:d.attributes,null==d?void 0:d.refreshing,null==d?void 0:d.selectedIndex,r,L,u,i,A,p]);var N=Object(T.j)().find((function(e){return e.id===i})),F=Object(j.useCallback)((function(e){N&&b.navigate(O.c.Modal,{screen:O.b.Collectibles,params:{screen:B.CollectiblesModalRoutes.NFTDetailModal,params:{asset:e,network:N,isOwner:!1}}})}),[b,N]),H=Object(j.useCallback)((function(e){var t=e.item;return Object(W.jsx)(q,{onPress:function(){F(t)},asset:t,cardWidth:I})}),[I,F]),J=Object(j.useMemo)((function(){return Object(W.jsx)(V,{numColumns:A,cardWidth:I,margin:k,marginBottom:w})}),[I,k,w,A]),Q=Object(j.useMemo)((function(){var e;return d?(null==d||null==(e=d.attributes)?void 0:e.length)>0?null==d?void 0:d.filterAssetList:null==d?void 0:d.assetList:[]}),[d]),X=Object(j.useCallback)((function(){d&&(0===(null==d?void 0:d.attributes.length)&&null!==h.current&&D({chain:i,contractAddress:r,cursor:h.current,limit:U(A)}),(null==d?void 0:d.attributes.length)>0&&null!==x.current&&L({chain:i,attributes:d.attributes,contractAddress:r,cursor:x.current,limit:U(A)}))}),[d,r,D,L,i,A]),G=Object(j.useCallback)((function(){return d&&(null!==h.current&&0===(null==d?void 0:d.attributes.length)||null!==x.current&&(null==d?void 0:d.attributes.length)>0)?J:Object(W.jsx)(c.a,{})}),[J,d]);return Object(W.jsx)(_.Tabs.FlatList,{numColumns:A,ListHeaderComponent:l,style:{padding:P},contentContainerStyle:{width:"100%",maxWidth:992,alignSelf:"center"},columnWrapperStyle:{marginHorizontal:a?-4:-12,paddingBottom:a?16:24},ListFooterComponent:G,data:Q,renderItem:H,keyExtractor:function(e){return""+e.tokenId},onEndReached:X},A)},Q=n(308),X=n.n(Q),G=n(178),K=n(3113),Y=n(3100);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(e){var t,n,r,o,i=Object.assign({},(X()(e),e)),l=null==(t=v())?void 0:t.context,a=null==l?void 0:l.collection,s=null!=(n=null!=(r=null==a?void 0:a.contractName)?r:null==a?void 0:a.name)?n:"",u=Object(p.a)(),b=Object(g.a)(),d=Object(G.o)();Object(j.useEffect)((function(){b||d.setOptions({title:s})}),[b,s,d]);var f=Object(j.useMemo)((function(){var e;return[b?null:{key:u.formatMessage({id:"content__items"}),value:null==a?void 0:a.itemsTotal},{key:u.formatMessage({id:"content__owners"}),value:null==a?void 0:a.ownersTotal},{key:u.formatMessage({id:"content__floor"}),value:Object(Y.a)({price:null==a?void 0:a.floorPrice,symbol:null==a?void 0:a.priceSymbol,networkId:null==l?void 0:l.networkId})},{key:u.formatMessage({id:"content__blue_chip_rates"}),value:null==a||null==(e=a.blueChip)?void 0:e.next_blue_chip_probability},{key:u.formatMessage({id:"content__int_hours_volume"},{0:24}),value:Object(Y.a)({price:null==a?void 0:a.volume24h,symbol:null==a?void 0:a.priceSymbol,networkId:null==l?void 0:l.networkId})}]}),[null==a||null==(o=a.blueChip)?void 0:o.next_blue_chip_probability,null==a?void 0:a.floorPrice,null==a?void 0:a.itemsTotal,null==a?void 0:a.ownersTotal,null==a?void 0:a.priceSymbol,null==a?void 0:a.volume24h,null==l?void 0:l.networkId,u,b]),O=Object(W.jsx)(w.a,{typography:"Body2",color:"text-subdued",numberOfLines:2,children:(null==a?void 0:a.description)||u.formatMessage({id:"content__no_description"})});return Object(W.jsxs)(c.a,$($({},i),{},{children:[Object(W.jsxs)(c.a,{flexDirection:"row",children:[Object(W.jsx)(K.a,{src:null==a?void 0:a.logoUrl,width:"64px",height:"64px",verified:null==a?void 0:a.openseaVerified}),Object(W.jsxs)(c.a,{ml:{base:"16px",md:"24px"},maxW:"576px",flex:1,children:[Object(W.jsx)(w.a,{typography:"PageHeading",mb:"4px",numberOfLines:1,children:s||"\u2013"}),Object(W.jsx)(c.a,{mt:"4px",children:b?Object(W.jsx)(w.a,{typography:"Body2",color:"text-subdued",children:u.formatMessage({id:"content__int_items"},{0:null==a?void 0:a.itemsTotal})}):O})]})]}),b?Object(W.jsx)(c.a,{mt:"16px",children:O}):null,Object(W.jsx)(c.a,{flexDirection:"row",mt:"24px",flexWrap:"wrap",mb:{base:"-16px",md:0},children:f.map((function(e){return e?Object(W.jsxs)(c.a,{mr:{md:"32px"},mb:{base:"16px",md:0},width:{base:"50%",sm:"33.33%",md:"auto"},children:[Object(W.jsx)(w.a,{typography:"Body2",color:"text-subdued",children:e.key}),Object(W.jsx)(w.a,{typography:"Body1Strong",mt:"4px",children:e.value||"-"})]}):null}))})]}))},te=n(1143),ne=n(85),re=n(3074),oe=n(3124),ce=n(3081);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae,se=function(){return Object(W.jsx)(W.Fragment,{children:[1,2,3,4,5].map((function(){return Object(W.jsxs)(re.a,{px:0,children:[Object(W.jsx)(re.a.Column,{children:Object(W.jsx)(I.a,{width:"40px",height:"40px",borderRadius:"12px"})}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:Object(W.jsx)(M.a,{shape:"Body1"}),description:Object(W.jsx)(M.a,{shape:"Body2"})}}),Object(W.jsx)(re.a.Column,{text:{label:Object(W.jsx)(M.a,{shape:"Body1"})}})]})}))})},ue=function(){var e=Object(p.a)();return Object(g.a)()?null:Object(W.jsxs)(re.a,{width:"full",px:0,children:[Object(W.jsx)(re.a.Column,{flex:2.7,text:{label:e.formatMessage({id:"title__nft"}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:"FROM",labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"left"}}}),Object(W.jsx)(c.a,{size:"20px"}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:"TO",labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"left"}}}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:e.formatMessage({id:"content__price"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}})]})},be=function(e){var t,n,r,o,c,i,l,a=e.item,s=Object(ce.a)().formatDistanceToNow,u="# "+(null!=(t=null==(n=a.asset)?void 0:n.tokenId)?t:"");null!=(r=a.asset)&&r.name&&(null==(o=a.asset)?void 0:o.name.length)>0&&(u=null==(l=a.asset)?void 0:l.name);return Object(W.jsxs)(re.a,{width:"full",px:0,children:[a.asset&&Object(W.jsx)(N.a,{asset:a.asset,borderRadius:"6px",size:40}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:u,labelProps:{typography:"Body1Strong",numberOfLines:1},description:a.timestamp?s(a.timestamp):"",descriptionProps:{numberOfLines:1,typography:"Body2",color:"text-subdued"}}}),Object(W.jsx)(re.a.Column,{text:{label:(null!=(c=a.tradePrice)?c:0)+" "+(null!=(i=a.tradeSymbol)?i:""),labelProps:{typography:"Body1Strong",textAlign:"right",mb:"24px"}}})]})},de=function(e){var t,n,r,o,c,i,l,a=e.network,s=e.item,u="# "+(null!=(t=null==(n=s.asset)?void 0:n.tokenId)?t:"");null!=(r=s.asset)&&r.name&&(null==(o=s.asset)?void 0:o.name.length)>0&&(u=null==(l=s.asset)?void 0:l.name);var b=Object(ce.a)().formatDistanceToNow,d=Object(oe.c)(a).openAddressDetails;return Object(W.jsxs)(re.a,{width:"full",px:0,children:[Object(W.jsxs)(D.a,{flex:2.7,space:"12px",alignItems:"center",children:[s.asset&&Object(W.jsx)(N.a,{asset:s.asset,borderRadius:"6px",size:40}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:u,labelProps:{typography:"Body1Strong",numberOfLines:1},description:s.timestamp?b(s.timestamp):"",descriptionProps:{numberOfLines:1,typography:"Body2",color:"text-subdued"}}})]}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:Object(W.jsx)(P.a,{onPress:function(){d(s.send)},flex:1,justifyContent:"center",children:Object(W.jsx)(w.a,{numberOfLines:1,typography:"Body1Underline",children:s.send})})}}),Object(W.jsx)(ne.a,{name:"ChevronDoubleRightMini",size:20}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:Object(W.jsx)(P.a,{onPress:function(){d(s.receive)},flex:1,justifyContent:"center",children:Object(W.jsx)(w.a,{numberOfLines:1,typography:"Body1Underline",children:s.receive})})}}),Object(W.jsx)(re.a.Column,{flex:1,text:{label:(null!=(c=s.tradePrice)?c:0)+" "+(null!=(i=s.tradeSymbol)?i:""),labelProps:{typography:"Body1Strong",textAlign:"right"}}})]})},je=function(e){var t,n,r=e.contractAddress,i=e.networkId,l=e.ListHeaderComponent,a=Object(g.a)(),s=null==(t=v())?void 0:t.context,u=null==(n=v())?void 0:n.setContext,b=Object(j.useRef)(),d=m.a.serviceNFT,f=Object(E.a)(),p=Object(j.useCallback)(function(){var e=o()((function*(e){var t=yield d.getCollectionTransactions(e);null!=t&&t.content&&(b.current=t.next,u&&u((function(e){return null!=s&&s.refreshing?le(le({},e),{},{txList:t.content}):le(le({},e),{},{txList:e.txList.concat(null==t?void 0:t.content)})})))}));return function(t){return e.apply(this,arguments)}}(),[null==s?void 0:s.refreshing,d,u]);Object(j.useEffect)((function(){1===(null==s?void 0:s.selectedIndex)&&f&&(null!=s&&s.refreshing&&(b.current=void 0),null!==b.current&&p({chain:i,contractAddress:r,cursor:b.current,eventTypes:"sale",showAsset:!0}).then((function(){u&&u((function(e){return le(le({},e),{},{refreshing:!1})}))})))}),[null==s?void 0:s.refreshing,null==s?void 0:s.selectedIndex,r,p,f,i,u]);var O=Object(T.j)(),h=Object(j.useMemo)((function(){return O.find((function(e){return e.id===i}))}),[i,O]),x=Object(j.useCallback)((function(e){var t=e.item;return a?Object(W.jsx)(be,{item:t}):Object(W.jsx)(de,{item:t,network:h})}),[h,a]),y=Object(j.useCallback)((function(){return null!==b.current?Object(W.jsx)(se,{}):Object(W.jsx)(c.a,{})}),[]);return Object(W.jsx)(te.b,{ListHeaderComponent:null!=l?l:ue,data:null==s?void 0:s.txList,renderItem:x,ListFooterComponent:y,style:{padding:a?16:32},contentContainerStyle:{width:"100%",maxWidth:992,alignSelf:"center"},onEndReached:function(){null!==b.current&&p({chain:i,contractAddress:r,cursor:b.current,eventTypes:"sale",showAsset:!0})}})};!function(e){e.Items="items",e.Sales="sales"}(ae||(ae={}));var fe=["items","itemWidth","selectedIndex","onChange"];function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=Object(j.memo)(ee),he=function(e){var t=e.items,n=e.itemWidth,r=e.selectedIndex,o=e.onChange,i=C()(e,fe);return Object(W.jsxs)(c.a,Oe(Oe({},i),{},{w:"100%",mt:{base:"24px",md:"32px"},children:[Object(W.jsx)(c.a,{h:"1px",position:"absolute",left:0,bottom:0,right:0,bgColor:"divider"}),Object(W.jsx)(y.a,{space:"32px",children:t.map((function(e,t){var c=t===r;return Object(W.jsx)(P.a,{alignItems:"center",pt:"16px",pb:"14px",borderBottomWidth:2,borderBottomColor:c?"interactive-default":"transparent",width:n,onPress:function(){o(t)},children:function(t){var n=t.isHovered,r=t.isPressed;return Object(W.jsx)(w.a,{typography:"Body2Strong",textAlign:"center",color:c||n||r?"text-default":"text-subdued",children:e.title})}},""+e.label+t)}))})]}))},xe=function(){var e,t,n=Object(p.a)(),r=Object(g.a)(),o=null==(e=v())?void 0:e.context,i=null==(t=v())?void 0:t.setContext;return Object(W.jsxs)(c.a,{flexDirection:"column",alignItems:"flex-start",children:[Object(W.jsx)(me,{},"MemoCollectionInfo"),Object(W.jsx)(he,{mb:r?"24px":"32px",selectedIndex:null==o?void 0:o.selectedIndex,onChange:function(e){i&&i((function(t){return Oe(Oe({},t),{},{selectedIndex:e})}))},items:[{title:n.formatMessage({id:"content__items"}),label:ae.Items},{title:n.formatMessage({id:"content__sales"}),label:ae.Sales}]})]})},ve=function(){var e,t,n=Object(p.a)(),r=null==(e=v())?void 0:e.context,o=null==(t=v())?void 0:t.setContext;return Object(W.jsxs)(c.a,{flexDirection:"column",alignItems:"flex-start",children:[Object(W.jsx)(me,{},"MemoCollectionInfo"),Object(W.jsx)(he,{mb:{md:"8px"},selectedIndex:null==r?void 0:r.selectedIndex,onChange:function(e){o&&o((function(t){return Oe(Oe({},t),{},{selectedIndex:e})}))},items:[{title:n.formatMessage({id:"content__items"}),label:ae.Items},{title:n.formatMessage({id:"content__sales"}),label:ae.Sales}]}),Object(W.jsx)(ue,{})]})},ge=function(){return Object(W.jsx)(xe,{})},ye=function(){return Object(W.jsx)(ve,{})},Pe=function(){var e,t=Object(f.x)().params,n=t.networkId,r=t.contractAddress,o=null==(e=v())?void 0:e.context;return Object(W.jsx)(W.Fragment,{children:0===(null==o?void 0:o.selectedIndex)?Object(W.jsx)(J,{contractAddress:r,networkId:n,ListHeaderComponent:ge}):Object(W.jsx)(je,{contractAddress:r,networkId:n,ListHeaderComponent:ye})})};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce=function(e){var t=e.onPress,n=e.isDisabled,r=Object(p.a)();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(b.a,{from:"md",children:Object(W.jsx)(d.a,{isDisabled:n,name:"BarsShrinkOutline",size:"lg",type:"plain",circle:!0,onPress:t})}),Object(W.jsx)(b.a,{till:"md",children:Object(W.jsx)(u.a,{isDisabled:n,leftIconName:"BarsShrinkMini",onPress:t,children:r.formatMessage({id:"title__filter"})})})]})};t.default=function(){var e=Object(f.x)().params,t=e.networkId,n=e.collection,r=e.contractAddress,i=e.title,l=Object(j.useState)({selectedIndex:0,collection:n,assetList:[],filterAssetList:[],attributes:[],txList:[],networkId:t}),a=s()(l,2),u=a[0],b=a[1],d=Object(f.u)();Object(j.useLayoutEffect)((function(){d.setOptions({title:""})}),[null==n?void 0:n.contractName,null==n?void 0:n.name,d,i]);var p=Object(j.useMemo)((function(){return!!u.attributes.find((function(e){return e.attribute_values.length>0}))}),[u.attributes]),v=u.collection,g=Object(j.useCallback)((function(){if(v)return Object(W.jsxs)(c.a,{mr:{base:2.5,md:8},children:[Object(W.jsx)(Ce,{isDisabled:v.attributes&&0===v.attributes.length,onPress:function(){d.navigate(O.c.Modal,{screen:O.b.NFTMarket,params:{screen:h.a.FilterModal,params:{collection:v,attributes:u.attributes,onAttributeSelected:function(e){b((function(t){return ke(ke({},t),{},{refreshing:!0,attributes:e})}))}}}})}}),p&&Object(W.jsx)(c.a,{top:{base:1,md:-1.5},right:{base:1,md:-1.5},position:"absolute",size:"12px",bgColor:"interactive-default",borderRadius:"full",borderWidth:"2px",borderColor:"background-default"})]})}),[u.attributes,v,p,d]);Object(j.useEffect)((function(){v&&d.setOptions({headerRight:g})}),[v,g,d]);var y=m.a.serviceNFT;Object(j.useEffect)((function(){o()((function*(){var e=yield y.getCollection({chain:t,contractAddress:r,showStatistics:!0});e&&b((function(t){return ke(ke({},t),{},{collection:e})}))}))()}),[r,t,y]);var P=Object(j.useMemo)((function(){return{context:u,setContext:b}}),[u]);return Object(W.jsx)(x.Provider,{value:P,children:Object(W.jsx)(Pe,{})})}}}]);
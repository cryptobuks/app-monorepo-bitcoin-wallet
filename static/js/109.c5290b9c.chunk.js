(this.webpackJsonp=this.webpackJsonp||[]).push([[109,845],{3027:function(e,n,t){"use strict";t.r(n),t.d(n,"ModalNavigatorRoutes",(function(){return p}));var o=t(2),a=t.n(o),r=t(100),c=t(1),i=t(292),l=t(463),u=t(145),s=t(760),b=t(456),m=t(0);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}var p,f=Object(l.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(5),t.e(8),t.e(3),t.e(6),t.e(4),t.e(7),t.e(9)]).then(t.bind(null,3162))})),j=Object(l.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(5),t.e(8),t.e(3),t.e(6),t.e(4),t.e(7),t.e(9)]).then(t.bind(null,3125))})),O=Object(l.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(5),t.e(8),t.e(3),t.e(6),t.e(4),t.e(7),t.e(9)]).then(t.bind(null,3136))})),h=Object(l.a)((function(){return t.e(107).then(t.bind(null,3229))})),g=Object(l.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(5),t.e(8),t.e(3),t.e(6),t.e(4),t.e(7),t.e(9)]).then(t.bind(null,3194))})),P=Object(l.a)((function(){return t.e(93).then(t.bind(null,3177))})),v=Object(l.a)((function(){return Promise.all([t.e(43),t.e(55)]).then(t.bind(null,3244))})),_=Object(l.a)((function(){return t.e(104).then(t.bind(null,3197))})),y=Object(l.a)((function(){return t.e(65).then(t.bind(null,3115))})),k=Object(l.a)((function(){return Promise.all([t.e(2),t.e(4),t.e(96)]).then(t.bind(null,3216))})),x=Object(l.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(5),t.e(8),t.e(3),t.e(6),t.e(4),t.e(7),t.e(9)]).then(t.bind(null,3196))})),w=Object(l.a)((function(){return t.e(6).then(t.bind(null,3199))})),M=Object(l.a)((function(){return Promise.resolve().then(t.bind(null,1158))})),S=Object(l.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(5),t.e(8),t.e(3),t.e(6),t.e(4),t.e(7),t.e(75)]).then(t.bind(null,3241))})),C=Object(l.a)((function(){return t.e(843).then(t.bind(null,3137))})),R=Object(l.a)((function(){return t.e(105).then(t.bind(null,3245))})),T=Object(l.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(5),t.e(8),t.e(3),t.e(6),t.e(4),t.e(7),t.e(9)]).then(t.bind(null,3193))})),E=Object(l.a)((function(){return Promise.all([t.e(1),t.e(37)]).then(t.bind(null,3178))})),D=Object(l.a)((function(){return Promise.all([t.e(1),t.e(86)]).then(t.bind(null,3127))})),I=Object(l.a)((function(){return Promise.all([t.e(3),t.e(94)]).then(t.bind(null,3195))})),L=Object(l.a)((function(){return Promise.all([t.e(0),t.e(39),t.e(47)]).then(t.bind(null,3240))})),A=Object(l.a)((function(){return t.e(844).then(t.bind(null,3198))})),B=Object(l.a)((function(){return t.e(98).then(t.bind(null,3231))})),N=Object(l.a)((function(){return t.e(41).then(t.bind(null,3128))})),W=Object(l.a)((function(){return t.e(101).then(t.bind(null,3247))})),z=Object(l.a)((function(){return t.e(103).then(t.bind(null,3250))})),F=Object(l.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(5),t.e(8),t.e(3),t.e(6),t.e(4),t.e(7),t.e(71)]).then(t.bind(null,3238))})),H=Object(l.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(5),t.e(8),t.e(3),t.e(6),t.e(4),t.e(7),t.e(9)]).then(t.bind(null,3192))})),V=Object(l.a)((function(){return t.e(76).then(t.bind(null,3246))})),U=Object(l.a)((function(){return Promise.resolve().then(t.bind(null,955))})),q=Object(l.a)((function(){return Promise.all([t.e(5),t.e(15),t.e(48)]).then(t.bind(null,3237))})),J=Object(l.a)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(5),t.e(8),t.e(3),t.e(6),t.e(4),t.e(7),t.e(9)]).then(t.bind(null,3129))})),Q=Object(l.a)((function(){return Promise.resolve().then(t.bind(null,1159))})),G=Object(l.a)((function(){return t.e(102).then(t.bind(null,3234))})),K=Object(l.a)((function(){return t.e(88).then(t.bind(null,3243))})),X=Object(l.a)((function(){return Promise.all([t.e(0),t.e(64)]).then(t.bind(null,3251))})),Y=Object(l.a)((function(){return t.e(42).then(t.bind(null,3242))})),Z=Object(l.a)((function(){return t.e(81).then(t.bind(null,3248))}));!function(e){e.ReceiveTokenNavigator="ReceiveTokenNavigator",e.SendNavigator="SendNavigator"}(p||(p={}));var $=[{name:u.b.CreateAccount,component:O},{name:u.b.RecoverAccount,component:h},{name:u.b.Receive,component:N},{name:u.b.Send,component:H},{name:u.b.ScanQrcode,component:F},{name:u.b.BackupWallet,component:f},{name:u.b.TransactionDetail,component:J},{name:u.b.ManageToken,component:I},{name:u.b.SubmitRequest,component:U},{name:u.b.HistoryRequest,component:S},{name:u.b.Password,component:A},{name:u.b.OnekeyLiteReset,component:w},{name:u.b.OnekeyLiteChangePinInputPin,component:x},{name:u.b.DappConnectionModal,component:P},{name:u.b.Collectibles,component:j},{name:u.b.CreateWallet,component:g},{name:u.b.ManagerWallet,component:D},{name:u.b.ManagerAccount,component:E},{name:u.b.EnableLocalAuthentication,component:_},{name:u.b.ManageNetwork,component:T},{name:u.b.OnekeyHardware,component:k},{name:u.b.HardwareUpdate,component:M},{name:u.b.Discover,component:v},{name:u.b.Swap,component:q},{name:u.b.UpdateFeature,component:Q},{name:u.b.FiatPay,component:y},{name:u.b.AddressBook,component:K},{name:u.b.ImportBackupPassword,component:C},{name:u.b.Staking,component:V},{name:u.b.ManageConnectedSites,component:R},{name:u.b.PushNotification,component:B},{name:u.b.Webview,component:G},{name:u.b.Revoke,component:W},{name:u.b.NFTMarket,component:L},{name:u.b.Overview,component:X},{name:u.b.CurrencySelect,component:Z},{name:u.b.BulkSender,component:z},{name:u.b.Market,component:Y}],ee=Object(b.a)();n.default=Object(c.memo)((function(){var e=Object(r.a)(),n=Object(c.useMemo)((function(){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({headerShown:!1,presentation:"modal"},Object(s.a)({isVerticalLayout:e}))}),[e]);return Object(m.jsx)(i.a,{children:Object(m.jsx)(ee.Navigator,{screenOptions:n,children:$.map((function(e){return Object(m.jsx)(ee.Screen,{name:e.name,component:e.component},e.name)}))})})}))},4065:function(e,n,t){"use strict";t.r(n);var o=t(130),a=t(72),r=t(290),c=t(393),i=t(103),l=t(459),u=t(32),s=t(85),b=t(10),m=t.n(b),d=t(766),p=t(1),f=t(57),j=t(429),O=t(23),h=t(43),g=t(3091),P=t(3144),v=t(39),_=t(3110),y=t(3162),k=t(145),x=t(0);n.default=function(){var e=Object(j.a)(),n=Object(f.u)(),t=Object(d.a)().locale,b=Object(p.useState)(""),w=m()(b,2),M=w[0],S=w[1],C=Object(v.d)().wallet,R=Object(p.useState)(!1),T=m()(R,2),E=T[0],D=T[1],I=Object(p.useState)(!1),L=m()(I,2),A=L[0],B=L[1],N=Object(p.useState)(null),W=m()(N,2),z=W[0],F=W[1],H=Object(p.useState)(""),V=m()(H,2),U=V[0],q=V[1],J=Object(p.useState)(null),Q=m()(J,2),G=Q[0],K=Q[1],X=Object(p.useState)([]),Y=m()(X,2),Z=Y[0],$=Y[1];Object(p.useEffect)((function(){S("https://lite.onekey.so/?language="+t)}),[t]),Object(p.useEffect)((function(){C&&h.a.engine.getWallets().then((function(e){return $(e.filter((function(e){return"hd"===e.type})))}))}),[C]);var ee=Object(p.useMemo)((function(){var n=[];return n.push({label:e.formatMessage({id:"action__restore_with_onekey_lite"}),value:"restore",iconProps:{name:"SaveAsOutline"}}),n.push({label:e.formatMessage({id:"action__change_pin"}),value:"change_pin",iconProps:{name:"PencilAltOutline"}}),n.push({label:e.formatMessage({id:"action__reset_onekey_lite"}),value:"reset",iconProps:{name:"TrashOutline",color:"icon-critical"},color:"icon-critical"}),n}),[e]),ne=Object(p.useCallback)((function(){return Object(x.jsx)(l.b,{dropdownPosition:"right",title:e.formatMessage({id:"app__hardware_name_onekey_lite"}),onChange:function(e){G!==e&&K(e)},footer:null,activatable:!1,triggerProps:{width:"40px"},dropdownProps:{width:248},options:ee,renderTrigger:function(){return Object(x.jsx)(u.a,{mr:"android"!==O.a.OS?4:0,alignItems:"flex-end",children:Object(x.jsx)(s.a,{name:"DotsHorizontalOutline"})})}})}),[e,ee,G]);Object(p.useEffect)((function(){n.setOptions({title:e.formatMessage({id:"app__hardware_name_onekey_lite"}),headerRight:function(){return ne()}})}),[e,ee,n]);var te=function(){n.navigate(k.c.Modal,{screen:k.b.CreateWallet,params:{screen:_.b.OnekeyLiteRestorePinCodeVerifyModal}})};Object(p.useEffect)((function(){switch(G){case"restore":te(),K(null);break;case"change_pin":n.navigate(k.c.Modal,{screen:k.b.OnekeyLiteChangePinInputPin,params:{screen:_.d.OnekeyLiteChangePinInputPinModal}}),K(null);break;case"reset":B(!0),K(null)}}),[G]),Object(p.useEffect)((function(){"RESET"===U.toUpperCase()?F(!0):0===U.trim().length?F(null):F(!1)}),[U]);var oe=Object(p.useMemo)((function(){return Z.length?Object(x.jsx)(i.a,{onPress:function(){D(!0)},size:"xl",m:4,type:"primary",children:e.formatMessage({id:"action__back_up_to_onekey_lite"})}):Object(x.jsx)(i.a,{size:"xl",m:4,type:"primary",onPress:function(){te()},children:e.formatMessage({id:"action__restore_with_onekey_lite"})})}),[Z.length,e]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(u.a,{flexDirection:"column",flex:1,children:[Object(x.jsx)(u.a,{flex:1,children:Object(x.jsx)(P.a,{src:M})}),Object(x.jsx)(u.a,{bg:"surface-subdued",pb:"ios"===O.a.OS?4:0,children:oe}),Object(x.jsx)(r.a,{hasFormInsideDialog:!0,visible:A,footerMoreView:Object(x.jsx)(u.a,{mb:3,children:Object(x.jsx)(c.a,{w:"full",value:U,isInvalid:null!=z&&!z,onChangeText:q,placeholder:"RESET"})}),contentProps:{iconType:"danger",title:e.formatMessage({id:"action__reset_onekey_lite"}),content:e.formatMessage({id:"modal__reset_onekey_lite_desc"},{0:"RESET"})},footerButtonProps:{onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),setTimeout((function(){n.navigate(k.c.Modal,{screen:k.b.OnekeyLiteReset,params:{screen:_.e.OnekeyLiteResetModal}})}),500)},primaryActionTranslationId:"action__delete",primaryActionProps:{isDisabled:!z,type:"destructive"}},onClose:function(){B(!1),q("")}})]}),Object(x.jsx)(l.b,{visible:E,onVisibleChange:D,onChange:function(e){n.navigate(k.c.Modal,{screen:k.b.BackupWallet,params:{screen:y.BackupWalletModalRoutes.BackupWalletLiteModal,params:{walletId:e.id}}})},title:e.formatMessage({id:"title_select_wallet"}),footer:null,activatable:!1,dropdownPosition:"right",containerProps:{zIndex:5},options:Z.map((function(n){return{label:n.name,description:e.formatMessage({id:"form__str_accounts"},{count:n.accounts.length.toString()}),value:n}})),renderItem:function(e,n,t){return Object(x.jsxs)(o.a,{onPress:function(){return null==t?void 0:t(e.value,e)},flexDirection:"row",alignItems:"center",height:"68px",paddingLeft:"18px",children:[Object(x.jsx)(g.b,{walletImage:e.value.type,avatar:e.value.avatar,size:"sm",circular:!0}),Object(x.jsxs)(u.a,{flexDirection:"column",ml:"12px",children:[Object(x.jsx)(a.a,{typography:"Body1Strong",children:e.label}),Object(x.jsx)(a.a,{typography:"Body2",color:"text-subdued",children:e.description})]})]})},renderTrigger:function(){return Object(x.jsx)(u.a,{})}})]})}}}]);
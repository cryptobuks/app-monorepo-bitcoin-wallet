(this.webpackJsonp=this.webpackJsonp||[]).push([[75,9,83,84],{3029:function(e,t,n){"use strict";n.r(t),n.d(t,"stackScreenList",(function(){return ge})),n.d(t,"StackNavigator",(function(){return ye}));var r=n(32),a=n(260),o=n(2),c=n.n(o),i=n(15),l=n.n(i),u=n(124),s=n(10),d=n.n(s),f=n(100),b=n(1),p=n(3570),j=n(292),O=n(3164),m=n(2076),h=n(43),v=n(343),g=n(466),y=n(14),x=n(3),w=n.n(x),S=n(202),k=n(20),P=n(3184),_=n(394),C=n(3223),E=_.b.actions,M=E.updateIsLoading,D=E.updatePreloadingCreateAccount,T=E.updateSelectedWalletId,A=E.updateSelectedNetworkId;function R(){return function(){var e=Object(C.a)(),t=e.isOpenDelay,n=(e.isCloseFromOpen,e.preloadingCreateAccount),r=e.activeWallet,a=(e.activeNetwork,e.activeAccount,e.activeWalletRef),o=e.activeNetworkRef,c=e.isOpen,i=h.a.serviceAccountSelector,l=h.a.dispatch;Object(b.useRef)().current=t&&c,Object(b.useRef)(n).current=n;var u=Object(b.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.runAfterInteractions;return t?S.a.runAfterInteractions((function(){return i.setSelectedWalletToActive()})):i.setSelectedWalletToActive()}),[i]);Object(b.useEffect)((function(){return k.a.accountSelector.info("useAccountSelectorEffects mount"),function(){k.a.accountSelector.info("useAccountSelectorEffects unmounted")}}),[]),Object(b.useEffect)((function(){r&&u({runAfterInteractions:!0})}),[r,u]),Object(P.a)((function(){(function(){var e=w()((function*(){if(!t){var e,n,r=null==(e=a.current)?void 0:e.id,c=null==(n=o.current)?void 0:n.id;l(M(!1),D(void 0),T(r),A(c)),k.a.accountSelector.info("Reset selected walletId & networkId after close",{networkId:c,walletId:r})}}));return function(){return e.apply(this,arguments)}})()()}),[t])}(),null}var I=n(125),B=n(3185);function L(){return function(){var e=Object(B.a)(),t=e.visible,n=e.existsHardwareWallet;Object(b.useEffect)((function(){return k.a.accountSelector.info("WalletSelectorTrigger mount"),function(){k.a.accountSelector.info("WalletSelectorTrigger unmounted")}}),[]),Object(b.useEffect)((function(){k.a.accountSelector.info("WalletSelector visible="+t.toString()),t&&n&&I.a.syncDeviceConnectStatus()}),[n,t])}(),null}var W=n(463),N=n(145),F=n(0),q=["name","component"];function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=Object(W.a)((function(){return n.e(87).then(n.bind(null,3551))})),V=Object(W.a)((function(){return n.e(56).then(n.bind(null,3437))})),U=Object(W.a)((function(){return n.e(91).then(n.bind(null,3562))})),Y=Object(W.a)((function(){return Promise.all([n.e(3),n.e(46)]).then(n.bind(null,4064))})),X=Object(W.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(3),n.e(6),n.e(4),n.e(7),n.e(109)]).then(n.bind(null,4065))})),J=Object(W.a)((function(){return Promise.all([n.e(13),n.e(38)]).then(n.bind(null,4100))})),K=Object(W.a)((function(){return n.e(847).then(n.bind(null,4066))})),Q=Object(W.a)((function(){return n.e(79).then(n.bind(null,4067))})),Z=Object(W.a)((function(){return Promise.all([n.e(1),n.e(49)]).then(n.bind(null,3428))})),$=Object(W.a)((function(){return n.e(80).then(n.bind(null,3549))})),ee=Object(W.a)((function(){return n.e(97).then(n.bind(null,4068))})),te=Object(W.a)((function(){return n.e(112).then(n.bind(null,4069))})),ne=Object(W.a)((function(){return n.e(85).then(n.bind(null,4070))})),re=Object(W.a)((function(){return n.e(89).then(n.bind(null,4071))})),ae=Object(W.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(3),n.e(6),n.e(4),n.e(7),n.e(106)]).then(n.bind(null,4097))})),oe=Object(W.a)((function(){return n.e(849).then(n.bind(null,4072))})),ce=Object(W.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(13),n.e(3),n.e(6),n.e(4),n.e(7),n.e(69)]).then(n.bind(null,4101))})),ie=Object(W.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(3),n.e(6),n.e(4),n.e(7),n.e(110)]).then(n.bind(null,5686))})),le=Object(W.a)((function(){return n.e(850).then(n.bind(null,5667))})),ue=Object(W.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(3),n.e(6),n.e(4),n.e(7),n.e(95)]).then(n.bind(null,4102))})),se=Object(W.a)((function(){return Promise.all([n.e(0),n.e(52)]).then(n.bind(null,4073))})),de=Object(W.a)((function(){return Promise.all([n.e(0),n.e(59)]).then(n.bind(null,4074))})),fe=Object(W.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(3),n.e(6),n.e(4),n.e(7),n.e(14)]).then(n.bind(null,3038))})),be=Object(W.a)((function(){return n.e(68).then(n.bind(null,4110))})),pe=Object(W.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(13),n.e(17),n.e(44),n.e(3),n.e(6),n.e(4),n.e(7),n.e(15),n.e(31)]).then(n.bind(null,5670))})),je=Object(W.a)((function(){return n.e(111).then(n.bind(null,4117))})),Oe=Object(W.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(3),n.e(6),n.e(4),n.e(7),n.e(90)]).then(n.bind(null,4108))})),me=Object(W.a)((function(){return Promise.all([n.e(0),n.e(58)]).then(n.bind(null,4087))})),he=Object(W.a)((function(){return n.e(70).then(n.bind(null,4106))})),ve=Object(W.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(8),n.e(17),n.e(3),n.e(6),n.e(4),n.e(7),n.e(108)]).then(n.bind(null,4098))})),ge=[{name:N.a.FullTokenListScreen,component:Y,i18nTitle:"asset__tokens"},{name:N.a.ScreenTokenDetail,component:ce,alwaysShowBackButton:!0},{name:N.a.ScreenOnekeyLiteDetail,component:X},{name:N.a.ExploreScreen,component:V},{name:N.a.DAppListScreen,component:G},{name:N.a.MyDAppListScreen,component:U},{name:N.a.TransactionHistoryScreen,component:ie},{name:N.a.Protected,component:ee},{name:N.a.AddressBook,component:je,i18nTitle:"title__address_book"},{name:N.a.SwapHistory,component:be},{name:N.a.VolumeHaptic,component:K},{name:N.a.CloudBackup,component:Q},{name:N.a.CloudBackupPreviousBackups,component:$},{name:N.a.CloudBackupDetails,component:Z},{name:N.a.PushNotification,component:te},{name:N.a.PushNotificationManagePriceAlert,component:re},{name:N.a.PushNotificationManageAccountDynamic,component:ne},{name:N.a.MarketDetail,component:J,alwaysShowBackButton:!0},{name:N.a.Revoke,component:ae,alwaysShowBackButton:!0},{name:N.a.NFTMarketStatsList,component:de},{name:N.a.NFTMarketLiveMintingList,component:se},{name:N.a.NFTMarketCollectionScreen,component:ue},{name:N.a.RevokeRedirect,component:oe},{name:N.a.NFTPNLScreen,component:Oe},{name:N.a.OverviewDefiListScreen,component:me},{name:N.a.WalletSwitch,component:he},{name:N.a.BulkSender,component:ve,alwaysShowBackButton:!0}],ye=Object(p.a)(),xe=Object(b.memo)((function(){var e=Object(f.a)(),t=Object(u.a)(["background-default","border-subdued"]),n=d()(t,2),r=n[0],a=n[1],o=Object(b.useMemo)((function(){return e?ge.map((function(e){var t=e.name,n=e.component,o=l()(e,q);return Object(F.jsx)(ye.Screen,{name:t,component:n,options:{animation:y.a.isNativeAndroid?"none":"default",header:function(e){return Object(F.jsx)(O.a,z(z({style:{backgroundColor:r,borderBottomWidth:0,shadowColor:a}},e),o))}}},t)})):null}),[r,a,e]);return Object(F.jsxs)(ye.Navigator,{children:[Object(F.jsxs)(ye.Group,{screenOptions:{headerShown:!1},children:[Object(F.jsx)(ye.Screen,{name:N.a.InitialTab,component:pe}),!1,Object(F.jsx)(ye.Screen,{name:N.a.HomeOnboarding,component:fe})]}),Object(F.jsx)(ye.Group,{children:o})]})}));xe.displayName="Dashboard";t.default=function(){var e=h.a.dispatch,t=Object(a.b)().reduxReady;return Object(b.useEffect)((function(){var n;t&&(g.a.addUpdaterListener(),null==(n=g.a.checkUpdate())||n.then((function(t){t&&e(Object(v.f)(),Object(v.a)(t))})).catch())}),[e,t]),Object(F.jsx)(j.a,{children:Object(F.jsxs)(r.a,{ref:m.setMainScreenDom,w:"full",h:"full",children:[Object(F.jsx)(xe,{}),Object(F.jsx)(R,{}),Object(F.jsx)(L,{}),Object(F.jsx)(le,{})]})})}},3148:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(3),a=n.n(r),o=n(10),c=n.n(o),i=n(1),l=n(47),u=n(765);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.loadingDelay,o=void 0===r?0:r,s=n.checkIsMounted,d=Object(i.useState)(),f=c()(d,2),b=f[0],p=f[1],j=Object(i.useState)(!1),O=c()(j,2),m=O[0],h=O[1],v=Object(i.useRef)(),g=Object(u.a)();return v.current=e,Object(i.useEffect)((function(){a()((function*(){var e=function(){return s&&g.current||!s};try{if(e()){h(!0);var t=yield null==v||null==v.current?void 0:v.current();e()&&p(t)}}finally{yield Object(l.g)(o),e()&&h(!1)}}))()}),t),{result:b,isLoading:m}}},3164:function(e,t,n){"use strict";var r=n(2),a=n.n(r),o=n(124),c=n(100),i=n(15),l=n.n(i),u=n(1),s=n(24),d=n(27),f=n(1138),b=n(32),p=n(199),j=n(172),O=n(0),m=function(e){var t=e.navigation,n=void 0===t?Object(j.b)():t,r=Object(c.a)();return Object(O.jsx)(p.a,{type:"plain",size:"lg",name:r?"ArrowLeftOutline":"ArrowSmallLeftOutline",onPress:function(){return null==n?void 0:n.goBack()},circle:!0})},h=n(10),v=n.n(h),g=n(429),y=n(72),x=function(e){var t=e.title,n=e.subtitle,r=e.i18nTitle,a=e.i18nSubtitle,o=e.inCenter,i=void 0===o||o,l=e.children,d=Object(c.a)(),f=Object(g.a)(),p=Object(u.useMemo)((function(){return[r?f.formatMessage({id:r}):t,a?f.formatMessage({id:a}):n]}),[r,f,t,a,n]),j=v()(p,2),m=j[0],h=j[1],x=Object(u.useMemo)((function(){return Object(O.jsxs)(b.a,{flex:1,justifyContent:"center",alignItems:i?"center":"flex-start",style:s.a.absoluteFill,zIndex:-1,children:[l,!!m&&Object(O.jsx)(y.a,{typography:i?"Heading":"PageHeading",children:m}),!!h&&Object(O.jsx)(y.a,{typography:"Caption",color:"text-subdued",children:h})]})}),[l,i,h,m]),w=Object(u.useMemo)((function(){return Object(O.jsxs)(b.a,{flex:1,flexDirection:"row",alignItems:"baseline",children:[l,!!m&&Object(O.jsx)(y.a,{typography:"Heading",children:m}),!!h&&Object(O.jsx)(y.a,{typography:"Body2",ml:"12px",color:"text-subdued",children:h})]})}),[l,h,m]);return d?x:w},w=["headerLeft","headerRight","headerTitle","safeTop","alwaysShowBackButton","style","navigation","options","route","back"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=s.a.create({content:{flex:1,flexDirection:"row",alignItems:"center"},left:{justifyContent:"center",alignItems:"flex-start"},right:{justifyContent:"center",alignItems:"flex-end"},expand:{flexGrow:1,flexBasis:0}});t.a=function(e){var t=e.headerLeft,n=e.headerRight,r=e.headerTitle,a=e.safeTop,i=e.alwaysShowBackButton,p=e.style,j=e.navigation,h=e.options,v=void 0===h?{}:h,g=(e.route,e.back),y=l()(e,w),S=Object(f.d)(),_=Object(c.a)(),C=Object(o.a)("background-default"),E=_?56:64,M=Boolean(g||i||t),D=Object(u.useMemo)((function(){if(r)return Object(O.jsx)(x,{inCenter:M,children:r()});if("function"===typeof v.headerTitle)return Object(O.jsx)(x,{inCenter:M,children:v.headerTitle()});var e=v,t=k({title:e.title,i18nTitle:e.i18nTitle,subtitle:e.subtitle,i18nSubtitle:e.i18nSubtitle},y);return Object(O.jsx)(x,k({inCenter:M},t))}),[M,r,y,v]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.a,{pointerEvents:"box-none",style:[s.a.absoluteFill,{zIndex:0,backgroundColor:C}]}),Object(O.jsx)(d.a,{pointerEvents:"box-none",style:[{height:E,marginTop:null!=a?a:S.top,backgroundColor:C},p],children:Object(O.jsxs)(d.a,{pointerEvents:"box-none",style:[P.content,{marginHorizontal:_?16:32}],children:[Object(O.jsxs)(d.a,{pointerEvents:"box-none",style:[P.left,{marginStart:S.left}],children:[(!!g||i)&&Object(O.jsx)(b.a,{ml:"-6px",mr:"8px",children:Object(O.jsx)(m,{navigation:j})}),t?t():null==v.headerLeft?void 0:v.headerLeft()]}),D,Object(O.jsx)(d.a,{pointerEvents:"box-none",style:[P.right,P.expand,{marginEnd:S.right}],children:n?n():null==v.headerRight?void 0:v.headerRight()})]})})]})}},3184:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1);function a(e,t){var n=Object(r.useRef)(!0);return Object(r.useEffect)((function(){n.current?n.current=!1:e()}),t)}},3185:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(100),a=n(1),o=n(73),c=n(178),i=n(39);function l(){var e=Object(r.a)(),t=Object(c.h)((function(e){return e.accountSelector})),n=t.isDesktopWalletSelectorVisible,l=t.isMobileWalletSelectorDrawerOpen,u=Object(i.l)().wallets,s=Object(a.useMemo)((function(){return u.some((function(e){return e.type===o.c}))}),[u]),d=e?l:n;return{visible:d,isOpenFromClose:!Object(c.t)(d)&&d,existsHardwareWallet:s}}},3207:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(3),a=n.n(r),o=n(10),c=n.n(o),i=n(1),l=n(20),u=n(43),s=n(39);function d(){var e=Object(s.l)().hardwareWallets,t=Object(s.m)().deviceUpdates,n=Object(s.e)((function(e){return e.hardware.connected})),r=Object(i.useState)(),o=c()(r,2),d=o[0],f=o[1],b=Object(i.useCallback)((function(e){var r,a;if(e)return{isConnected:n.includes(e),hasUpgrade:!(null==t||null==(r=t[e])||!r.ble)||!(null==t||null==(a=t[e])||!a.firmware)}}),[n,t]);return Object(i.useEffect)((function(){l.a.accountSelector.info("useEffect hardwareWallets changed >>> useDeviceStatusOfHardwareWallet"),a()((function*(){var t=(yield u.a.engine.getHWDevices()).reduce((function(e,t){return e[t.id]=t,e}),{});f(e.reduce((function(e,n){if(!n.associatedDevice)return e;var r=t[n.associatedDevice];return r&&(e[n.associatedDevice]=b(r.mac)),e}),{}))}))()}),[b,e]),{devicesStatus:d}}},3223:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(100),a=n(1),o=n(43),c=n(178),i=n(39),l=n(3148),u=n(1157),s=n(3207);function d(){var e=o.a.engine,t=Object(r.a)(),n=Object(c.h)((function(e){return e.accountSelector})),d=n.networkId,f=n.walletId,b=n.accountsGroup,p=n.isLoading,j=n.preloadingCreateAccount,O=n.isOpenDelay,m=n.isOpen,h=n.accountSelectorMode,v=Object(c.i)(m,t?u.g:u.e+100),g=Object(c.t)(m),y=!g&&m,x=g&&!m,w=Object(i.l)().wallets,S=Object(c.m)().enabledNetworks,k=Object(s.a)().devicesStatus,P=Object(c.f)(),_=P.account,C=P.wallet,E=P.network,M=Object(a.useRef)(_);M.current=_;var D=Object(a.useRef)(C);D.current=C;var T=Object(a.useRef)(E);T.current=E;var A=Object(c.h)((function(e){return e.refresher.refreshAccountSelectorTs})),R=d,I=f,B=Object(a.useCallback)((function(){}),[]),L=Object(l.a)((function(){return f?e.getWalletSafe(f):Promise.resolve(null)}),[f,w]).result,W=Object(l.a)((function(){return d?e.getNetworkSafe(d):Promise.resolve(null)}),[d,S]).result,N=Object(a.useMemo)((function(){if(null==b||!b.length)return!0;var e=0;return b.forEach((function(t){var n;return e+=(null==t||null==(n=t.data)?void 0:n.length)||0})),e<=0}),[b]);return Object(a.useMemo)((function(){return{wallets:w,refreshAccountSelectorTs:A,devicesStatus:k,isOpenFromClose:y,isCloseFromOpen:x,isOpenDelay:O,isOpenDelayForShow:v,isOpen:m,selectedNetwork:W,selectedNetworkId:R,selectedWallet:L,selectedWalletId:I,accountsGroup:b,isLoading:p,isAccountsGroupEmpty:N,preloadingCreateAccount:j,refreshAccounts:B,activeAccount:_,activeWallet:C,activeNetwork:E,activeAccountRef:M,activeNetworkRef:T,activeWalletRef:D,accountSelectorMode:h}}),[w,A,k,y,x,O,v,m,W,R,L,I,b,p,N,j,B,_,C,E,h])}},3241:function(e,t,n){"use strict";n.r(t);var r=n(100),a=n(252),o=n(457),c=n(130),i=n(85),l=n(72),u=n(289),s=n(32),d=n(755),f=n(654),b=n(10),p=n.n(b),j=n(1),O=n.n(j),m=n(57),h=n(78),v=n.n(h),g=n(554),y=n(734),x=n(429),w=n(14),S=n(43),k=n(39),P=n(3081),_=n(3110),C=n(31),E=n(845),M=n(3371),D=n(0),T=function(){var e=Object(x.a)(),t=Object(k.m)().instanceId,n=Object(P.a)().formatDate,r=Object(m.u)(),b=Object(j.useState)([]),O=p()(b,2),h=O[0],T=O[1],A=Object(j.useState)("loading"),R=p()(A,2),I=R[0],B=R[1],L=Object(j.useCallback)((function(){B("loading"),v.a.get(Object(E.c)(t)).then((function(e){if(e.data.success){var t=e.data.data;B(t.length>0?"data":"empty"),T(t)}})).catch((function(){B("network")}))}),[t]),W=function(){w.a.isExtensionUiPopup?(S.a.serviceApp.openExtensionExpandTab({routes:[C.h.Modal,C.e.SubmitRequest],params:{screen:_.g.SubmitRequestModal}}),setTimeout((function(){window.close()}),300)):r.navigate(M.a.SubmitRequestModal)},N=Object(j.useMemo)((function(){return Object(D.jsx)(f.a,{dismiss:!0,alertType:"info",title:e.formatMessage({id:"conten__please_be_patient_as_net_work"})})}),[e]),F=Object(j.useCallback)((function(t){var a=t.item,o="";return a.custom_fields.forEach((function(e){360013393195===e.id&&(o=e.value)})),Object(D.jsx)(c.a,{onPress:function(){r.navigate(M.a.TicketDetailModal,{order:a})},children:Object(D.jsx)(g.a,{bgColor:"surface-default",height:"96px",padding:"16px",borderRadius:"12px",children:Object(D.jsxs)(g.a,{flex:1,alignItems:"center",space:"12px",children:[Object(D.jsxs)(y.a,{flex:1,children:[Object(D.jsx)(l.a,{typography:{sm:"Body1Strong",md:"Body2Strong"},children:function(t){switch(t){case"hardware":return e.formatMessage({id:"form__hardware"});case"app_on_android":return e.formatMessage({id:"form__app_on_android"});case"app_on_ios":return e.formatMessage({id:"form__app_on_ios"});case"app_on_desktop":return e.formatMessage({id:"form__app_on_desktop"});case"app_on_browser":return e.formatMessage({id:"form__app_on_browser"});default:return t}}(o)}),Object(D.jsx)(l.a,{typography:"Body2",numberOfLines:1,color:"text-subdued",children:a.description}),Object(D.jsx)(l.a,{typography:"Body2",color:"text-subdued",children:n(a.created_at,{hideYear:!0})})]}),Object(D.jsx)(i.a,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})})},a.id)}),[n,e,r]);Object(j.useEffect)((function(){L()}),[L]);var q=Object(j.useCallback)((function(){return Object(D.jsx)(s.a,{mb:"16px",children:N})}),[N]),H=Object(j.useCallback)((function(){return Object(D.jsx)(o.a,{height:"24px",bgColor:"surface-subdued"})}),[]);return Object(D.jsx)(a.b,{height:"560px",header:e.formatMessage({id:"form__s_request_history"}),footer:"data"===I?void 0:null,hideSecondaryAction:!0,hidePrimaryAction:!("data"===I),primaryActionProps:{type:"basic"},onPrimaryActionPress:W,primaryActionTranslationId:"form__submit_a_request",flatListProps:"data"===I?{height:"560px",data:h,renderItem:F,ListHeaderComponent:q,ItemSeparatorComponent:H,keyExtractor:function(e){return e.created_at}}:void 0,children:"data"!==I?Object(D.jsx)(s.a,{flex:1,alignItems:"center",justifyContent:"center",position:"relative",children:function(){switch(I){case"network":return Object(D.jsx)(d.a,{emoji:"\ud83c\udf10",title:e.formatMessage({id:"title__no_connection"}),subTitle:e.formatMessage({id:"title__no_connection_desc"}),actionTitle:e.formatMessage({id:"action__retry"}),handleAction:function(){return L()}});case"empty":return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(s.a,{position:"absolute",top:0,left:0,right:0,children:N}),Object(D.jsx)(d.a,{emoji:"\ud83d\udcac",title:e.formatMessage({id:"title__no_request_history"}),subTitle:e.formatMessage({id:"title__no_request_history_desc"}),actionTitle:e.formatMessage({id:"form__submit_a_request"}),handleAction:W})]});case"loading":return Object(D.jsx)(u.b,{size:"sm"});default:return null}}()}):null})},A=n(162),R=n(199),I=n(115),B=n(2),L=n.n(B),W=n(16),N=n.n(W),F=n(179),q=n(3),H=n.n(q),z=n(652),G=n(1210),V=n(350),U=n(254),Y=n(128),X=n.n(Y),J=n(334),K=n(1222);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=function(){var e,t=Object(x.a)(),n=Object(U.a)().width,o=Object(r.a)(),l=Object(m.u)(),u=Object(k.m)().instanceId,s=Object(m.x)(),d=((null==s?void 0:s.params.order)||{}).id,f=null==s?void 0:s.params.order.submitter_id,b=((o?n:400)-2*(o?16:24))/4,O=Object(z.a)({mode:"onChange"}),h=O.control,y=O.handleSubmit,S=O.formState.isValid,P=Object(j.useState)([]),_=p()(P,2),C=_[0],M=_[1],T=Object(j.useCallback)(function(){var e=H()((function*(e){return v.a.post(Object(E.f)(d,u),{comment:{body:e.comment,author_id:f,uploads:function(){var e=[];return C.forEach((function(t){t.token&&e.push(t.token)})),e}()}}).then((function(e){e.data.success&&(F.a.show({title:t.formatMessage({id:"msg__submitted_successfully"})}),l.goBack())})).catch((function(e){}))}));return function(t){return e.apply(this,arguments)}}(),[d,C,u,t,l,f]),B=Object(j.useCallback)(H()((function*(){var e=yield Object(G.a)({mediaTypes:V.a.Images,allowsEditing:!1,base64:!0,aspect:[4,3],quality:.3});if(!e.cancelled){var n=X.a.v4()+".png",r={loading:!0,localPath:e.uri,filename:n},a=e.uri;w.a.isNative&&e.base64&&(a=e.base64),M((function(e){return[].concat(N()(e),[r])})),Object(E.g)({filename:n,image:a},u,(function(e,r){e?(M((function(e){var t=e.findIndex((function(e){return e.filename===n}));return t<0?e:[].concat(N()(e.slice(0,t)),N()(e.slice(t+1)))})),F.a.show({title:t.formatMessage({id:"msg__upload_failed"})},{type:"error"})):M((function(e){var t=e.findIndex((function(e){return e.filename===n}));return t<0?e:[].concat(N()(e.slice(0,t)),[Z(Z({},e[t]),{},{loading:!1,token:r.data.upload.token})],N()(e.slice(t+1)))}))}))}})),[u]);return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(J.b,{}),Object(D.jsx)(a.b,{header:t.formatMessage({id:"action__reply"}),hideSecondaryAction:!0,primaryActionProps:{isDisabled:!(S&&(null==(e=C.filter((function(e){return!(null!=e&&e.token)})))||!e.length)),onPromise:function(){return y(T)()}},primaryActionTranslationId:"action__submit",scrollViewProps:{height:"560px",children:Object(D.jsxs)(A.a,{children:[Object(D.jsx)(A.a.Item,{label:t.formatMessage({id:"form__your_reply"}),control:h,labelAddon:Object(D.jsx)(R.a,{type:"plain",size:"xs",name:"PhotoMini",onPress:function(){C.length<4&&B()}}),rules:{required:t.formatMessage({id:"form__field_is_required"}),maxLength:{value:1e3,message:t.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})},validate:function(e){}},name:"comment",formControlProps:{width:"full"},defaultValue:"",children:Object(D.jsx)(A.a.Textarea,{borderRadius:"12px"})}),Object(D.jsxs)(g.a,{children:[C.map((function(e,t){return Object(D.jsx)(K.a,{imageModel:e,onDelete:function(e){M((function(t){var n=t.findIndex((function(t){return t.filename===e.filename}));return n<0?t:[].concat(N()(t.slice(0,n)),N()(t.slice(n+1)))}))}},t)})),C.length<4?Object(D.jsx)(c.a,{onPress:B,children:Object(D.jsx)(I.a,{mt:"8px",width:b-8+"px",height:b-8+"px",borderRadius:"12px",borderWidth:1,borderColor:"border-default",children:Object(D.jsx)(i.a,{size:20,name:"PlusMini"})})}):null]})]})}})]})},ee=n(1148),te=n(15),ne=n.n(te),re=n(63),ae=n(176),oe=n.n(ae),ce=n(713),ie=n.n(ce),le=n(23),ue=n(1095),se=n(205),de=n(615),fe=n.n(de);function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=n(877),Oe=["theme"],me=function(e,t,n,r,a){var o=Object(se.e)(r,["children","style","onPress","icon","onOpen","onClose"]),c=p()(o,2),i=c[0],l=c[1],u=function(e,t,n){var r;if("web"!==n)return pe(pe({},t),e);var a=null!==(r=t.style)&&void 0!==r?r:{},o=Object(se.e)(e,["shadowColor","shadowOffset","shadowOpacity","shadowRadius"]),c=p()(o,2),i=c[0],l=c[1];return fe()(i)||(a=pe(pe({},a),i)),pe(pe(pe({},l),t),{},{style:a})}(Object(je.a)(e,t,n,l,a),i,le.a.OS);return Object(se.n)(u)};var he=n(46),ve=["columns","space","spacingX","spacingY","minChildWidth","children"];function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ye={rows:{},cols:{}},xe=O.a.memo(O.a.forwardRef((function(e,t){var n=function(e,t){var n,r=Object(ue.a)(),a=r.theme,o=ne()(r,Oe),c=oe()(a,"components.".concat(e)),i=null===(n=Object(U.a)())||void 0===n?void 0:n.width;return me(ie()(a,["components"]),o,c,t,i)}("SimpleGrid",e),r=n.columns,a=n.space,o=n.spacingX,c=n.spacingY,i=n.minChildWidth,l=n.children,u=ne()(n,ve);if(Object(he.a)(e))return O.a.createElement(O.a.Fragment,null);var s=null!==a&&void 0!==a?a:0,d=null!==o&&void 0!==o?o:s,f=null!==c&&void 0!==c?c:s,b=O.a.Children.toArray(l);if(r){for(var p=[],j=0;j<b.length;j+=r)p.push(b.slice(j,j+r));return O.a.createElement(y.a,ge({},ye.rows,{space:f},u,{ref:t}),p.map((function(e,t){return O.a.createElement(g.a,{space:d,key:t},e.map((function(e){return O.a.createElement(re.a,ge({},ye.cols,{key:e.key}),e)})))})))}return i?O.a.createElement(re.a,ge({flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},u,{ref:t}),b.map((function(e){return O.a.createElement(re.a,ge({},ye.cols,{mx:d,my:f,key:e.key,minWidth:i}),e)}))):O.a.createElement(O.a.Fragment,null)})));function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=function(e){var t=e.id,n=e.size,r=Object(k.m)().instanceId,a=Object(j.useState)(""),o=p()(a,2),c=o[0],i=o[1];return Object(j.useEffect)((function(){v.a.get(Object(E.a)(t,r)).then((function(e){e.data&&i(e.data.data)}))}),[t]),Object(D.jsx)(D.Fragment,{children:c.length>0?Object(D.jsx)(ee.a,{width:n+"px",height:n+"px",src:c,borderRadius:"12px",preview:!0,bgColor:"surface-selected"},c):Object(D.jsx)(s.a,{width:n,height:n,bgColor:"surface-selected",borderRadius:"12px"})})};var Pe=function(){var e=Object(x.a)(),t=Object(m.t)(),n=Object(m.x)(),r=((null==n?void 0:n.params.order)||{}).id,o=n.params.order.submitter_id,c=Object(m.u)(),i=Object(k.m)().version,u=Object(k.m)().instanceId,d=Object(P.a)().formatDate,f=Object(j.useState)([]),b=p()(f,2),O=b[0],h=b[1],g=Object(j.useCallback)((function(e){var t=e.item,n=e.index,r=function(e,t){return e===t}(t.author_id,o),a=t.body;0===n&&(a=a+"\n\n"+(w.a.isNativeIOS?"App on iOS":w.a.isNativeAndroid?"App on Android":w.a.isDesktop?"App on Desktop":w.a.isRuntimeBrowser?"App on Browser":"Hardware")+"\nAppVersion: "+i);return Object(D.jsx)(s.a,{flex:1,flexDirection:"row",justifyContent:r?"flex-end":"flex-start",children:Object(D.jsxs)(s.a,{flexDirection:"column",paddingBottom:"24px",children:[Object(D.jsxs)(s.a,{flexDirection:"column",bgColor:"surface-default",padding:"16px",borderRadius:"12px",flex:1,children:[Object(D.jsx)(l.a,{selectable:!0,maxWidth:"260px",typography:{sm:"Body1",md:"Body2"},mb:t.attachments.length>0?"12px":"0px",children:a}),t.attachments.length>0?Object(D.jsx)(xe,{columns:3,spacingX:2,spacingY:3,mt:"12px",children:t.attachments.map((function(e,t){return Object(D.jsx)(s.a,{size:244/3,children:Object(D.jsx)(ke,Se(Se({},e),{},{size:244/3}))},"attachment"+t)}))}):null]}),Object(D.jsx)(l.a,{mt:"8px",typography:"Body2",color:"text-subdued",textAlign:r?"right":"left",children:d(t.created_at,{hideYear:!0})})]})})}),[d,244/3,o,i]),y=Object(j.useCallback)((function(){v.a.get(Object(E.b)(r,u)).then((function(e){h(e.data.data)})).catch((function(){}))}),[r,u]);return Object(j.useEffect)((function(){t&&y()}),[y,t]),Object(D.jsx)(a.b,{header:e.formatMessage({id:"title__request_details"}),hideSecondaryAction:!0,primaryActionProps:{type:"basic"},primaryActionTranslationId:"action__reply",onPrimaryActionPress:function(){c.navigate(M.a.ReplyTicketModel,{order:null==n?void 0:n.params.order})},flatListProps:{height:"420px",data:O,renderItem:g,keyExtractor:function(e){return e.created_at}}})},_e=n(456),Ce=Object(_e.a)(),Ee=[{name:M.a.HistoryRequestModal,component:T},{name:M.a.TicketDetailModal,component:Pe},{name:M.a.ReplyTicketModel,component:$},{name:M.a.SubmitRequestModal,component:K.b}];t.default=function(){var e=Object(r.a)();return Object(D.jsx)(Ce.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:Ee.map((function(e){return Object(D.jsx)(Ce.Screen,{name:e.name,component:e.component},e.name)}))})}},3371:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.HistoryRequestModal="HistoryRequestModal",e.TicketDetailModal="TicketDetailModal",e.ReplyTicketModel="ReplyTicketModel",e.SubmitRequestModal="SubmitRequestModal"}(r||(r={}))},3528:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(10),a=n.n(r),o=n(57),c=n(1),i=n(24),l=n(27),u=n(1138),s=n(3031),d=n(1185),f=n(3032),b=n(1184);function p(e){var t=Object(u.c)(),n=Object(u.d)(),r=c.useContext(b.a),i=c.useContext(f.a),p=e.focused,O=e.modal,m=void 0!==O&&O,h=e.header,v=e.headerShown,g=void 0===v||v,y=e.headerTransparent,x=e.headerStatusBarHeight,w=void 0===x?r?0:n.top:x,S=e.navigation,k=e.route,P=e.children,_=e.style,C=c.useState((function(){return Object(d.a)(t,m,w)})),E=a()(C,2),M=E[0],D=E[1];return c.createElement(s.a,{accessibilityElementsHidden:!p,importantForAccessibility:p?"auto":"no-hide-descendants",style:[j.container,_]},c.createElement(l.a,{style:j.content},c.createElement(b.a.Provider,{value:r||!1!==g},c.createElement(f.a.Provider,{value:g?M:null!=i?i:0},P))),g?c.createElement(o.f.Provider,{value:S},c.createElement(o.h.Provider,{value:k},c.createElement(l.a,{onLayout:function(e){var t=e.nativeEvent.layout.height;D(t)},style:y?j.absolute:null},h))):null)}var j=i.a.create({container:{flex:1,flexDirection:"column-reverse"},content:{flex:1},absolute:{position:"absolute",top:0,left:0,right:0}})},3570:function(e,t,n){"use strict";var r=n(2),a=n.n(r),o=n(15),c=n.n(o),i=n(57),l=n(1),u=n(3059),s=n(3528),d=n(3058),f=n(3067),b=n(3066),p=n(153),j=n(24),O=n(27);function m(e){var t=e.state,n=e.descriptors;return l.createElement(u.a,null,l.createElement(O.a,{style:h.container},t.routes.map((function(e,r){var a,o=t.index===r,c=0!==r,i=null===(a=t.routes[r-1])||void 0===a?void 0:a.key,u=i?n[i]:void 0,m=n[e.key],v=m.options,g=m.navigation,y=m.render,x=v.header,w=v.headerShown,S=v.headerTintColor,k=v.headerBackImageSource,P=v.headerLeft,_=v.headerRight,C=v.headerTitle,E=v.headerTitleAlign,M=v.headerTitleStyle,D=v.headerStyle,T=v.headerShadowVisible,A=v.headerTransparent,R=v.contentStyle,I=v.headerBackTitle;return l.createElement(s.a,{key:e.key,focused:o,route:e,navigation:g,headerShown:w,headerTransparent:A,header:void 0!==x?x({back:u?{title:Object(d.a)(u.options,u.route.name)}:void 0,options:v,route:e,navigation:g}):l.createElement(f.a,{title:Object(d.a)(v,e.name),headerTintColor:S,headerLeft:"function"===typeof P?function(e){var t=e.tintColor;return P({tintColor:t,canGoBack:c,label:I})}:void 0===P&&c?function(e){var t=e.tintColor;return l.createElement(b.a,{tintColor:t,backImage:void 0!==k?function(){return l.createElement(p.a,{source:k,style:[h.backImage,{tintColor:t}]})}:void 0,onPress:g.goBack,canGoBack:c})}:P,headerRight:"function"===typeof _?function(e){var t=e.tintColor;return _({tintColor:t})}:_,headerTitle:"function"===typeof C?function(e){var t=e.children,n=e.tintColor;return C({children:t,tintColor:n})}:C,headerTitleAlign:E,headerTitleStyle:M,headerStyle:[A?{position:"absolute",backgroundColor:"transparent"}:null,D,!1===T?{shadowOpacity:0,borderBottomWidth:0}:null]}),style:[j.a.absoluteFill,{display:o?"flex":"none"}]},l.createElement(O.a,{style:[h.contentContainer,R]},y()))}))))}var h=j.a.create({container:{flex:1},contentContainer:{flex:1},backImage:{height:24,width:24,margin:3,resizeMode:"contain"}}),v=["initialRouteName","children","screenListeners","screenOptions"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=Object(i.m)((function(e){var t=e.initialRouteName,n=e.children,r=e.screenListeners,a=e.screenOptions,o=c()(e,v),u=Object(i.v)(i.j,{initialRouteName:t,children:n,screenListeners:r,screenOptions:a}),s=u.state,d=u.descriptors,f=u.navigation;return l.useEffect((function(){var e;return null===f||void 0===f||null===(e=f.addListener)||void 0===e?void 0:e.call(f,"tabPress",(function(e){var t=f.isFocused();requestAnimationFrame((function(){s.index>0&&t&&!e.defaultPrevented&&f.dispatch(y(y({},i.i.popToTop()),{},{target:s.key}))}))}))}),[f,s.index,s.key]),l.createElement(m,x({},o,{state:s,navigation:f,descriptors:d}))}))}}]);